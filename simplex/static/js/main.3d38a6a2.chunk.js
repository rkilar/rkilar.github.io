(this["webpackJsonppraca-licencjacka"]=this["webpackJsonppraca-licencjacka"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a.n(n),s=a(18),r=a.n(s),l=(a(24),a(2)),o=(a(25),a(1)),c=a(7),u=a.n(c),b=a(3),d=a(10),h=a(9),m=a(8),f=a(5),j=a(6),p=a(14),v=new u.a("0"),g=new u.a("1"),O=new u.a("-1"),x=function(e){return e.divisible(g)},y=function(e){return e.every((function(e){return x(e)}))},w=function(e){return e.every((function(e){return e.compare(v)>=0}))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(p.a)(Array(e).keys()).map((function(e){return e+t}))},S=function(e){return Object(p.a)(e)},P=function(e){return e.map((function(e){return S(e)}))},C=function(e,t){return e.map((function(e,a){return e.add(t[a])}))},N=function(e,t){return e.map((function(e){return e.mul(t)}))},L=function(e){return e[e.length-1]},F=function(e){return e.reduce((function(e,t){var a=Object(l.a)(e,2),n=a[0],i=a[1];return n=t?n+1:n,i.push(n),[n,i]}),[0,[]])},B=function(e,t){return e.reduce((function(e,t){return t>=0&&(e[t]=!0),e}),k(t).map((function(){return!1})))},M=function(e,t){return e.reduce((function(e,t,a){return t>=0&&(e[t]=a),e}),k(t).map((function(){return-1})))},I=function(e,t,a){return e.length>=t?e.slice(0,t):S(e).concat(k(t-e.length).map((function(e){return a()})))},A=function(e,t,a,n){var i=P(e);return i[t][a]=n,i},V=function(e,t,a){var n=S(e);return n[t]=a,n},q=function(e,t){return e.mod(t).add(t).mod(t)},T=function(e){return e.sub(q(e,g))},_=function(e){return e.add(q(g.sub(q(e,g)),g))},D=function(e,t){for(var a=0,n=1;t%e===0;)n*=e,t/=e,a++;return[a,n]},U=function(e){var t=e.d,a=D(2,t),n=Object(l.a)(a,2),i=n[0],s=n[1],r=D(5,t),o=Object(l.a)(r,2),c=o[0];if(t/(s*o[1])!==1)return null;for(var u=e.n;i<c;)i++,u*=2;for(;c<i;)c++,u*=5;var b=u.toString().padStart(i+1,"0");return(-1===e.s?"-":"")+(0===i?b:"".concat(b.slice(0,-i),".").concat(b.slice(-i)))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(a){var n=U(e);if(null!==n)return n}return e.toLatex(t)};function G(e,t,a){switch(a.type){case"rows":return a.allowed[e];case"columns":case"base_columns":return a.allowed[t];case"cells":return a.allowed[e][t];default:return!1}}function z(e,t,a){switch(a.type){case"rows":return a.selected[e];case"columns":case"base_columns":return a.selected[t];case"cells":return a.selected[e][t];default:return!1}}function R(e,t,a,n){return"base_columns"===a.type&&e>0&&a.selected[n.baseVariables[e-1]]}function H(e,t,a){return function(e,t,a,n){switch(a.type){case"rows":return Object(o.a)(Object(o.a)({},a),{},{selected:V(a.selected,e,n)});case"columns":case"base_columns":return Object(o.a)(Object(o.a)({},a),{},{selected:V(a.selected,t,n)});case"cells":return Object(o.a)(Object(o.a)({},a),{},{selected:A(a.selected,e,t,n)});default:return Object(o.a)({},a)}}(e,t,a,!z(e,t,a))}function $(e,t,a,n){var i=P(e);i[a]=N(i[a],i[a][n].inverse());for(var s=0;s<i.length;s++)s!==a&&(i[s]=C(i[s],N(i[a],i[s][n].neg())));var r=S(t);return r[a-1]=n,[i,r]}function Y(e){return{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"None"}}function Z(e){return{generic_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for primal simplex"},bland_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for primal simplex"}}}function J(e){return{generic_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for dual simplex"},bland_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for dual simplex"}}}function W(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=Z(e);if(!e.slice(1).every((function(e){return L(e).compare(v)>=0})))return[i,!1];for(var s=!1,r=!1,l=a?n:e[0].length-1,o=0;o<l;o++)if(!(t[o]||e[0][o].compare(v)>=0)){for(var c=null,u=null,b=1;b<e.length;b++)e[b][o].compare(v)<=0||(null===c||c.compare(L(e[b]).div(e[b][o]))>0)&&(c=L(e[b]).div(e[b][o]),u=b);if(null!==c){for(var d=1;d<e.length;d++)e[d][o].compare(v)<=0||c.equals(L(e[d]).div(e[d][o]))&&(i.generic_primal.pivots[d][o]=!0);s||(s=!0,i.bland_primal.pivots[u][o]=!0)}else r=!0}return[i,r]}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=J(e);if(!e[0].slice(0,-1).every((function(e){return e.compare(v)>=0})))return[n,!1];for(var i=!1,s=!1,r=t?a:e[0].length-1,l=1;l<e.length;l++)if(!(L(e[l]).compare(0)>=0)){for(var o=null,c=null,u=0;u<r;u++)if(!(e[l][u].compare(v)>=0)){var b=e[0][u].div(e[l][u]).abs();(null===o||b.compare(o)<0)&&(o=b,c=u)}if(null!==o){for(var d=0;d<r;d++)e[l][d].compare(v)>=0||o.equals(e[0][d].div(e[l][d]).abs())&&(n.generic_dual.pivots[l][d]=!0);i||(i=!0,n.bland_dual.pivots[l][c]=!0)}else s=!0}return[n,s]}var Q=function(){return v},X=function(){function e(t){var a=t.n,n=t.m,i=t.A,s=t.b,r=t.c,l=t.form,o=t.labels,c=void 0===o?null:o;Object(f.a)(this,e),this.n=a,this.m=n,this.A=i,this.b=s,this.c=r,this.form=l,this.labels=null!==c?c:"primal"===l||"equality"===l?k(a).map((function(e){return"x_{".concat(e+1,"}")})):k(n).map((function(e){return"y_{".concat(e+1,"}")}))}return Object(j.a)(e,[{key:"isDual",value:function(){return"dual"===this.form||"equality_dual"===this.form}},{key:"isEquality",value:function(){return"equality"===this.form||"equality_dual"===this.form}},{key:"copy",value:function(){return new e(Object(o.a)(Object(o.a)({},this),{},{A:P(this.A),b:S(this.b),c:S(this.c)}))}},{key:"updateSize",value:function(t,a){var n,i=I(this.A.map((function(e){return I(e,t,Q)})),a,(n=t,function(){return k(n).map((function(){return v}))})),s=I(this.b,a,Q),r=I(this.c,t,Q);return new e({n:t,m:a,A:i,b:s,c:r,form:this.form})}},{key:"updateA",value:function(t,a,n){return new e(Object(o.a)(Object(o.a)({},this),{},{A:A(this.A,t,a,n)}))}},{key:"updateB",value:function(t,a){return new e(Object(o.a)(Object(o.a)({},this),{},{b:V(this.b,t,a)}))}},{key:"updateC",value:function(t,a){return new e(Object(o.a)(Object(o.a)({},this),{},{c:V(this.c,t,a)}))}},{key:"setForm",value:function(t){return new e(Object(o.a)(Object(o.a)({},this),{},{form:t,labels:null}))}},{key:"setLabels",value:function(t){return new e(Object(o.a)(Object(o.a)({},this),{},{labels:t}))}},{key:"isIntegral",value:function(){return this.A.every((function(e){return y(e)}))&&y(this.b)&&y(this.c)}}],[{key:"zeroProgram",value:function(t,a){return new e({n:t,m:a,A:k(a).map((function(){return k(t).map((function(){return v}))})),b:k(a).map((function(){return v})),c:k(t).map((function(){return v})),form:"primal"})}},{key:"fromArrays",value:function(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"primal",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new e({n:n.length,m:a.length,A:t.map((function(e){return e.map((function(e){return u()(e)}))})),b:a.map((function(e){return u()(e)})),c:n.map((function(e){return u()(e)})),form:i,labels:s})}},{key:"fromTableau",value:function(t,a,n,i,s){for(var r=B(i,t+a),o=0;o<a;o++)if(!r[t+o])for(var c=1;c<=a;c++)if(!n[c][t+o].equals(v)&&i[c-1]<t){var u=$(n,i,c,t+o),b=Object(l.a)(u,2);n=b[0],i=b[1],r=B(i,t+a);break}var d=M(i,t+a);return n=[n[0]].concat(k(a).map((function(e){return n[d[t+e]+1]}))),new e({n:t,m:a,A:k(a).map((function(e){return k(t).map((function(t){return n[e+1][t]}))})),b:k(a).map((function(e){return L(n[e+1])})),c:k(t).map((function(e){return n[0][e].neg()})),form:"primal",labels:s.slice(0,t)})}}]),e}();function ee(e){return"equality"===e.form||"equality_dual"===e.form?be.getFromProgram(e):se.getFromProgram(e)}function te(e,t,a){return function(n){return Array.isArray(n)&&n.every((function(e){return"boolean"===typeof e}))?n.every((function(t,a){return!t||e[a]}))?n.includes(!0)?[!0,null]:[!1,"At least one ".concat(t," must be selected.")]:[!1,a]:[!1,"Argument must be an array of booleans"]}}function ae(e,t){var a=k(e.m+1).map((function(t){return!x(L(e.tableau[t]))}));return{label:"Add Gomory cuts for primal LP",args:"rows",prompt:"Select rows to use in making cuts",allowed:a,defaultSelection:k(e.m+1).map((function(){return!1})),validateArgs:te(a,"row","Only rows with non integer value in the last column can be used."),getNewState:t}}function ne(e,t){var a=k(e.columns).map((function(t){return!x(e.tableau[0][t])}));return{label:"Add Gomory cuts for dual LP",args:"columns",prompt:"Select columns to use in making cuts",allowed:a,defaultSelection:k(e.columns).map((function(){return!1})),validateArgs:te(a,"column","Only columns with non integer value in the first row can be used."),getNewState:t}}function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.primalUnbounded)return"The primal LP is unbounded.";if(e.dualUnbounded)return"The dual LP is unbounded.";if(0===e.iter&&!e.primalFeasible&&t)return e.dualFeasible?"Use the dual simplex method. Alternatively use an auxiliary LP or Farkas lemma to find a feasible primal solution":"Use an auxiliary LP or Farkas lemma to find a feasible primal solution";if(e.primalFeasible&&e.dualFeasible){var i=!y(e.primalSolution)&&a,s=!y(e.dualSolution)&&e.primalProgram.isIntegral()&&n;return i&&s?"The LP is optimized, but the primal and dual solutions aren't integral. You can use Gomory cuts to look for integral solutions.":i?"The LP is optimized, but the primal solution isn't integral. You can use Gomory cuts to look for an integral solution.":s?"The LP is optimized, but the dual solution isn't integral. You can use Gomory cuts to look for an integral solution.":"An optimal solution has been reached."}return e.primalFeasible?"Use the primal simplex method to optimize the LP.":e.dualFeasible?"Use the dual simplex method to optimize the LP.":"The tableau is not primal feasible or dual feasible. Return to previous state and follow instructions or make pivots to find a feasible base"}var se=function(){function e(t){var a=t.tableau,n=t.n,i=t.m,s=t.primalLabels,r=t.dualLabels,l=t.baseVariables,o=t.primalProgram,c=t.iter,u=t.columns,b=t.addInfo,d=void 0===b||b;Object(f.a)(this,e),this.tableau=a,this.n=n,this.m=i,this.columns=u,this.primalLabels=s,this.dualLabels=r,this.baseVariables=l,this.primalProgram=o,this.dualProgram=o.setForm("primal"===o.form?"dual":"equality_dual").setLabels(this.dualLabels),this.iter=c,d&&this.addInformation()}return Object(j.a)(e,[{key:"addInformation",value:function(){this.isBase=B(this.baseVariables,this.columns-1),this.calculateSolutions(),this.calculatePivots(),this.calculatePrograms(),this.calculateDisabled(),this.calculateTransitions(),this.statusMessage=this.getStatusMessage()}},{key:"getStatusMessage",value:function(){return ie(this)}},{key:"calculateTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)this.transitions=[];else if(0!==this.iter||this.primalFeasible)if(this.primalFeasible&&this.dualFeasible){var t=[];y(this.primalSolution)||t.push(ae(this,(function(t){return le.getFirstCut(e,t)}))),!y(this.dualSolution)&&this.primalProgram.isIntegral()&&t.push(ne(this,(function(t){return oe.getFirstCut(e,t)}))),this.transitions=t}else this.transitions=[];else this.transitions=[{label:"Use an auxiliary LP",args:"none",getNewState:function(){return ce.getFromBasicState(e)}},{label:"Use Farkas' Lemma",args:"none",getNewState:function(){return ue.getFromBasic(e)}}]}},{key:"calculatePivots",value:function(){var e=W(this.tableau,this.isBase),t=Object(l.a)(e,2),a=t[0],n=t[1],i=K(this.tableau),s=Object(l.a)(i,2),r=s[0],c=s[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},a),r),this.defaultSuggestion="bland_primal",this.primalUnbounded=n,this.dualUnbounded=c}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return L(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,-1)),this.primalSolution=k(this.columns-1).map((function(){return v}));for(var e=0;e<this.m;e++)this.primalSolution[this.baseVariables[e]]=L(this.tableau[e+1]);if(!this.primalProgram.equalityForm){this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}}},{key:"calculatePrograms",value:function(){this.programs=[{name:"Primal LP",program:this.primalProgram},{name:"Dual LP",program:this.dualProgram}],this.defaultProgram="Primal LP"}},{key:"calculateDisabled",value:function(){this.disabledColumns=k(this.columns).map((function(){return!1})),this.disabledRows=this.tableau.map((function(){return!1})),this.disableObjectiveInvariant=!1}},{key:"canPivot",value:function(e,t){return!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(t,a){var n=$(this.tableau,this.baseVariables,t,a),i=Object(l.a)(n,2),s=i[0],r=i[1];return new e(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(t){var a=[t.c.map((function(e){return e.neg()})).concat(k(t.m+1).map((function(){return v})))].concat(t.A.map((function(e,a){return e.concat(k(t.m).map((function(e){return e===a?g:v}))).concat(t.b[a])}))),n=k(t.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(k(t.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=k(t.m).map((function(e){return"y_{".concat(e+1,"}")})),s=k(t.m).map((function(e){return t.n+e}));return new e({tableau:a,n:t.n,m:t.m,columns:t.n+t.m+1,primalLabels:n,dualLabels:i,baseVariables:s,primalProgram:"dual"===t.form?t.setForm("primal"):t,iter:0})}}]),e}(),re=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},e),{},{addInfo:!1}))).baseFixed=n.baseVariables.every((function(e){return n.tableau[0][e].equals(v)})),n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return this.baseFixed?"The top row is fixed.":"Make pivots to represent the top row in the new base."}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(g)}},{key:"calculateTransitions",value:function(){var e=this;this.baseFixed?this.transitions=[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:this.transitions=[]}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,a){return t.map((function(t,n){return e.canPivot(a,n)}))}));this.suggestedPivots={none:{pivots:t,description:"None"},generic_dual:{pivots:t,description:"Generic pivot for dual simplex"},bland_dual:{pivots:t,description:"Bland's rule for dual simplex"},generic_primal:{pivots:t,description:"Generic pivot for primal simplex"},bland_primal:{pivots:t,description:"Bland's rule for primal simplex"}},this.defaultSuggestion="bland_primal",this.primalUnbounded=!1,this.dualUnbounded=!1}},{key:"backToBasic",value:function(){return new se(Object(o.a)({},this))}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}]),a}(se),le=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=e.addedOverall,s=e.initialN,r=e.initialM,l=Object(d.a)(e,["addedOverall","initialN","initialM"]);return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},l),{},{addInfo:!1}))).addedOverall=i,n.initialN=s,n.initialM=r,n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return ie(this,!1,!0,!1)}},{key:"calculateTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)this.transitions=[];else if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.primalSolution)){t.push(ae(this,(function(t){return e.addGomoryCuts(t)})));var a=k(this.columns).map((function(t){return t>=e.initialN+e.initialM&&t<e.columns-1&&e.isBase[t]}));a.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"base_columns",prompt:"Select columns to remove",allowed:a,defaultSelection:k(this.columns).map((function(){return!1})),validateArgs:te(a,"column","Only columns added with Gomory cuts that are currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}this.transitions=t}else this.transitions=[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,n=P(this.tableau),i=S(this.baseVariables),s=0,r=function(a){if(!e[a])return"continue";var r=t.tableau[0].length+s,l=n,o=k(r+1).map((function(e){return e===r?l[a][r-1].sub(T(l[a][r-1])).neg():e===r-1?g:l[a][e].sub(T(l[a][e])).neg()}));n=l.map((function(e){return e.slice(0,r-1).concat(v,e[r-1])})).concat([o]),i.push(r-1),s++},l=0;l<=this.m;l++)r(l);var c=this.primalLabels.concat(k(s).map((function(e){return"s_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),u=this.dualLabels.concat(k(s).map((function(e){return"y_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),b=X.fromTableau(this.n,this.m+s,n,i,c);return new a(Object(o.a)(Object(o.a)({},this),{},{m:this.m+s,columns:this.columns+s,tableau:n,baseVariables:i,primalLabels:c,dualLabels:u,primalProgram:b,iter:this.iter+1,addedOverall:this.addedOverall+s}))}},{key:"removeExtraColumns",value:function(e){var t=this,n=F(e),i=Object(l.a)(n,2),s=i[0],r=i[1],c=this.tableau.filter((function(a,n){return 0===n||!e[t.baseVariables[n-1]]})).map((function(t){return t.filter((function(t,a){return!e[a]}))})),u=this.baseVariables.filter((function(t){return!e[t]})).map((function(e){return e-r[e]})),b=this.primalLabels.filter((function(t,a){return!e[a]})),d=this.dualLabels.filter((function(a,n){return!e[n+t.n]})),h=X.fromTableau(this.n,this.m-s,c,u,b);return new a(Object(o.a)(Object(o.a)({},this),{},{m:this.m-s,columns:this.columns-s,tableau:c,baseVariables:u,primalLabels:b,dualLabels:d,primalProgram:h}))}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new a(Object(o.a)(Object(o.a)({},e),{},{addedOverall:0,initialN:e.n,initialM:e.m})).addGomoryCuts(t)}}]),a}(se),oe=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=e.initialN,s=e.addedOverall,r=Object(d.a)(e,["initialN","addedOverall"]);return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},r),{},{addInfo:!1}))).initialN=i,n.addedOverall=s,n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return ie(this,!1,!1,!0)}},{key:"calculateTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)this.transitions=[];else if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ne(this,(function(t){return e.addGomoryCuts(t)})));var a=k(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));a.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:a,defaultSelection:k(this.columns).map((function(){return!1})),validateArgs:te(a,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}this.transitions=t}else this.transitions=[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,n=k(this.m+1).map((function(){return[]})),i=0,s=function(a){if(!e[a])return"continue";n=n.map((function(e,n){return 0===n?e.concat(t.tableau[n][a].sub(_(t.tableau[n][a]))):e.concat(t.tableau[n][a].sub(T(t.tableau[n][a])))})),i++},r=0;r<=this.columns;r++)s(r);var l=this.tableau.map((function(e,a){return e.slice(0,t.n).concat(n[a]).concat(e.slice(t.n))})),c=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(k(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,c,u);return new a(Object(o.a)(Object(o.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:c,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),n=Object(l.a)(t,2),i=n[0],s=n[1],r=this.tableau.map((function(t){return t.filter((function(t,a){return!e[a]}))})),c=this.baseVariables.map((function(e){return e-s[e]})),u=this.primalLabels.filter((function(t,a){return!e[a]})),b=X.fromTableau(this.n-i,this.m,r,c,u);return new a(Object(o.a)(Object(o.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:r,baseVariables:c,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new a(Object(o.a)(Object(o.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),a}(se),ce=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=e.auxiliaryProgram,s=e.savedObjective,r=Object(d.a)(e,["auxiliaryProgram","savedObjective"]);return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},r),{},{addInfo:!1}))).auxiliaryProgram=i,n.savedObjective=s,n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return this.primalFeasible&&this.dualFeasible?this.primalSolution[0].equals(v)?"The auxiliary LP is optimized and $x_0$ is equals to 0, so we can return to the original LP":"The auxiliary LP is optimized, but $x_0$ is not equal to 0, so the original LP is infeasible":0===this.iter?this.dualFeasible?"The primal solution is not feasible, pivot with $x_0$ as the entering variable and as the leaving the one with the lowest value in the current basic solution. Alternatively use the dual simplex algorithm.":"The primal solution is not feasible, pivot with $x_0$ as the entering variable and as the leaving the one with the lowest value in the current basic solution.":"Optimize the auxiliary LP to find a feasible basic solution to the initial LP or determine that it is infeasible"}},{key:"getFirstPivotRow",value:function(){for(var e=-1,t=v,a=1;a<=this.m;a++)L(this.tableau[a]).compare(t)<0&&(t=L(this.tableau[a]),e=a);return e}},{key:"calculatePivots",value:function(){var e=W(this.tableau,this.isBase),t=Object(l.a)(e,2),a=t[0],n=t[1],i=K(this.tableau),s=Object(l.a)(i,2),r=s[0],c=s[1];if(this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},a),r),0===this.iter){var u=this.getFirstPivotRow(),b=this.tableau.map((function(e,t){return e.map((function(e,a){return t===u&&0===a}))}));this.suggestedPivots=Object(o.a)(Object(o.a)({},this.suggestedPivots),{},{generic_primal:{pivots:b,description:"Generic pivot for primal simplex"},bland_primal:{pivots:b,description:"Bland's rule for primal simplex"}})}this.defaultSuggestion="bland_primal",this.primalUnbounded=n,this.dualUnbounded=c}},{key:"calculateTransitions",value:function(){var e=this;this.primalFeasible&&this.dualFeasible&&this.primalSolution[0].equals(v)?this.transitions=[{label:"Return to initial LP",args:"none",getNewState:function(){return e.goBackToBasic()}}]:this.transitions=[]}},{key:"goBackToBasic",value:function(){var e=this.tableau.map((function(e){return e.slice(1)}));return e[0]=this.savedObjective,new re(Object(o.a)(Object(o.a)({},this),{},{tableau:e,n:this.n-1,columns:this.columns-1,primalLabels:this.primalLabels.slice(1),baseVariables:this.baseVariables.map((function(e){return e-1})),iter:this.outerIter+1}))}},{key:"calculatePrograms",value:function(){void 0!==this.auxiliaryProgram&&(this.programs=[{name:"Auxiliary LP",program:this.auxiliaryProgram},{name:"Dual auxiliary LP",program:this.auxiliaryProgram.setForm("dual")}],this.defaultProgram="Auxiliary LP")}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFromBasicState",value:function(e){return new a(Object(o.a)(Object(o.a)({},e),{},{auxiliaryProgram:X.fromArrays(e.primalProgram.A.map((function(e){return Array.of(O).concat(e)})),e.primalProgram.b,Array.of(O).concat(k(e.primalProgram.c.length).map((function(){return v}))),"primal",Array.of("x_{0}").concat(e.primalLabels.slice(0,e.n))),tableau:e.tableau.map((function(t,a){return 0===a?k(e.columns+1).map((function(e){return 0===e?g:v})):Array.of(O).concat(t)})),n:e.n+1,columns:e.columns+1,primalLabels:Array.of("x_{0}").concat(e.primalLabels),baseVariables:e.baseVariables.map((function(e){return e+1})),savedObjective:e.tableau[0],iter:0}))}}]),a}(se),ue=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n=Object.assign({},e);return Object(f.a)(this,a),t.call(this,n)}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return this.primalFeasible?"A feasible primal solution has been found.":this.dualUnbounded?"The initial LP is primal infeasible.":"Use dual simplex method to find a feasible primal solution."}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,a){return 0===a?k(e.columns).map((function(){return v})):t})),a=W(t,this.isBase),n=Object(l.a)(a,2),i=n[0],s=n[1],r=K(t),c=Object(l.a)(r,2),u=c[0],b=c[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},i),u),this.primalUnbounded=s,this.dualUnbounded=b}},{key:"calculateTransitions",value:function(){var e=this;this.primalFeasible?this.transitions=[{label:"Go back to the initial LP",args:"none",getNewState:function(){return new se(e)}}]:this.transitions=[]}},{key:"calculateDisabled",value:function(){this.disabledColumns=k(this.columns).map((function(){return!1})),this.disabledRows=this.tableau.map((function(){return!1})),this.disableObjectiveInvariant=!0}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFromBasic",value:function(e){return new a(Object(o.a)(Object(o.a)({},e),{},{primalProgram:new X(Object(o.a)(Object(o.a)({},e.primalProgram),{},{c:e.primalProgram.c.map((function(){return v}))}))}))}}]),a}(se),be=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},e),{},{addInfo:!1}))).calculateDisabled(),n.hasBase=n.baseVariables.every((function(e,t){return-1!==e||n.disabledRows[t+1]})),n.infeasible=k(n.m,1).some((function(e){return k(n.n).every((function(t){return n.tableau[e][t].equals(v)||t===n.baseVariables[e-1]}))&&L(n.tableau[e]).compare(v)<0})),n.addInformation(),n}return Object(j.a)(a,[{key:"calculatePivots",value:function(){var e=Y(this.tableau);if(!this.hasBase||this.infeasible)this.suggestedPivots=Object(o.a)(Object(o.a)({none:e},J(this.tableau)),Z(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var t=W(this.tableau,this.isBase,!0,this.n),a=Object(l.a)(t,2),n=a[0],i=a[1],s=K(this.tableau,!0,this.n),r=Object(l.a)(s,2),c=r[0],u=r[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:e},n),c),this.defaultSuggestion="bland_primal",this.primalUnbounded=i,this.dualUnbounded=u}}},{key:"getStatusMessage",value:function(){return this.infeasible?"The primal LP is infeasible.":this.hasBase?ie(this,!1,!1,!0):0===this.iter?"Find a base by making pivots or using an auxiliary LP.":"Find a base by making pivots."}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return L(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,this.n)),this.primalSolution=k(this.n).map((function(){return v}));for(var e=0;e<this.m;e++)-1!==this.baseVariables[e]&&this.baseVariables[e]<this.n&&(this.primalSolution[this.baseVariables[e]]=L(this.tableau[e+1]));this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}},{key:"calculateTransitions",value:function(){var e=this;this.hasBase||0!==this.iter?this.primalFeasible&&this.dualFeasible&&!y(this.dualSolution)&&this.primalProgram.isIntegral()?this.transitions=[ne(this,(function(t){return me.getFirstCut(e,t)}))]:this.transitions=[]:this.transitions=[{label:"Use an auxiliary LP",args:"none",getNewState:function(){return de.getFromEqualityState(e)}}]}},{key:"calculateDisabled",value:function(){var e=this;this.disabledColumns=k(this.columns).map((function(t){return t>=e.n&&t<e.columns-1})),this.disabledRows=k(this.m+1).map((function(t){return t>0&&k(e.n).every((function(a){return e.tableau[t][a].equals(v)}))&&L(e.tableau[t]).equals(v)})),this.disableObjectiveInvariant=!1}},{key:"canPivot",value:function(e,t){return!(t>=this.n||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(e){var t=[e.c.map((function(e){return e.neg()})).concat(k(e.m+1).map((function(){return v})))].concat(e.A.map((function(t,a){return t.concat(k(e.m).map((function(t){return t===a?e.b[a].compare(v)<0?O:g:v}))).concat(e.b[a])}))),n=k(e.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(k(e.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=k(e.m).map((function(e){return"y_{".concat(e+1,"}")})),s=k(e.m).map((function(){return-1}));return new a({tableau:t,n:e.n,m:e.m,columns:e.n+e.m+1,primalLabels:n,dualLabels:i,baseVariables:s,primalProgram:e.setForm("equality"),iter:0})}}]),a}(se),de=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=e.savedObjective,s=Object(d.a)(e,["savedObjective"]);if(Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},s),{},{addInfo:!1}))).savedObjective=i,n.calculateSolutions(),n.baseVariables.some((function(e){return-1===e})))n.stage="base";else if(n.primalFeasible&&n.dualFeasible){var r=M(n.baseVariables,n.n+n.m);L(n.tableau[0]).compare(v)<0?n.stage="infeasible":k(n.m,n.n).some((function(e){return n.isBase[e]&&k(n.n).some((function(t){return!n.tableau[r[e]+1][t].equals(v)}))}))?n.stage="rebase":n.stage="done"}else n.stage="optimize";return n.addInformation(),n}return Object(j.a)(a,[{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return L(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,-1)),this.primalSolution=k(this.columns-1).map((function(){return v}));for(var e=0;e<this.m;e++)this.primalSolution[this.baseVariables[e]]=L(this.tableau[e+1]);if(!this.primalProgram.equalityForm){this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}}},{key:"getStatusMessage",value:function(){return"base"===this.stage?"Make pivots with slack variables to establish a base.":"done"===this.stage?"The LP is optimized. We can return to the initial LP.":"optimize"===this.stage?"Optimize the LP using the simplex method.":"rebase"===this.stage?"Remove the slack variables from base where possible.":"infeasible"===this.stage?"The initial LP is infeasible.":""}},{key:"calculateTransitions",value:function(){var e=this;"done"===this.stage&&L(this.tableau[0]).equals(v)?this.transitions=[{label:"Return to the initial LP",args:"none",getNewState:function(){return e.goBack()}}]:this.transitions=[]}},{key:"goBack",value:function(){var e=this,t=this.tableau.map((function(t,a){return 0===a?e.savedObjective:t}));return new he(Object(o.a)(Object(o.a)({},this),{},{tableau:t}))}},{key:"calculatePivots",value:function(){if("optimize"!==this.stage)this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},J(this.tableau)),Z(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var e=W(this.tableau,this.isBase),t=Object(l.a)(e,2),a=t[0],n=t[1],i=K(this.tableau),s=Object(l.a)(i,2),r=s[0],c=s[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},a),r),this.defaultSuggestion="bland_primal",this.primalUnbounded=n,this.dualUnbounded=c}}},{key:"calculateDisabled",value:function(){this.disabledColumns=k(this.columns).map((function(){return!1})),this.disabledRows=k(this.m+1).map((function(){return!1})),this.disableObjectiveInvariant=!1}},{key:"canPivot",value:function(e,t){return"base"===this.stage?-1===this.baseVariables[e-1]&&e===t-this.n+1&&!this.isBase[t]:"optimize"===this.stage?!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t]):"rebase"===this.stage&&(!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])&&this.baseVariables[e-1]>=this.n&&t<this.n)}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{tableau:s,baseVariables:r,iter:this.iter+1}))}}],[{key:"getFromEqualityState",value:function(e){return new a(Object(o.a)(Object(o.a)({},e),{},{tableau:e.tableau.map((function(t,a){return 0===a?t.map((function(t,a){return a<e.n||a===e.columns-1?v:g})):t})),savedObjective:e.tableau[0]}))}}]),a}(be),he=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,Object(o.a)(Object(o.a)({},e),{},{addInfo:!1}))).baseFixed=n.baseVariables.every((function(e){return n.tableau[0][e].equals(v)})),n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return this.baseFixed?"The top row is fixed.":"Make pivots to represent the top row in the new base."}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(g)}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,a){return t.map((function(t,n){return e.canPivot(a,n)}))}));this.suggestedPivots={none:{pivots:t,description:"None"},generic_dual:{pivots:t,description:"Generic pivot for dual simplex"},bland_dual:{pivots:t,description:"Bland's rule for dual simplex"},generic_primal:{pivots:t,description:"Generic pivot for primal simplex"},bland_primal:{pivots:t,description:"Bland's rule for primal simplex"}},this.defaultSuggestion="bland_primal",this.primalUnbounded=!1,this.dualUnbounded=!1}},{key:"calculateTransitions",value:function(){var e=this;this.baseFixed?this.transitions=[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:this.transitions=[]}},{key:"backToBasic",value:function(){return new be(Object(o.a)({},this))}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}]),a}(be),me=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n,i=e.initialN,s=e.addedOverall,r=Object(d.a)(e,["initialN","addedOverall"]);return Object(f.a)(this,a),(n=t.call(this,r)).initialN=i,n.addedOverall=s,n.addInformation(),n}return Object(j.a)(a,[{key:"getStatusMessage",value:function(){return ie(this,!1,!1,!0)}},{key:"calculateTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)this.transitions=[];else if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ne(this,(function(t){return e.addGomoryCuts(t)})));var a=k(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));a.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:a,defaultSelection:k(this.columns).map((function(){return!1})),validateArgs:te(a,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}this.transitions=t}else this.transitions=[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,n=k(this.m+1).map((function(){return[]})),i=0,s=function(a){if(!e[a])return"continue";n=n.map((function(e,n){return 0===n?e.concat(t.tableau[n][a].sub(_(t.tableau[n][a]))):e.concat(t.tableau[n][a].sub(T(t.tableau[n][a])))})),i++},r=0;r<=this.columns;r++)s(r);var l=this.tableau.map((function(e,a){return e.slice(0,t.n).concat(n[a]).concat(e.slice(t.n))})),c=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(k(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,c,u).setForm("equality");return new a(Object(o.a)(Object(o.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:c,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),n=Object(l.a)(t,2),i=n[0],s=n[1],r=this.tableau.map((function(t){return t.filter((function(t,a){return!e[a]}))})),c=this.baseVariables.map((function(e){return e-s[e]})),u=this.primalLabels.filter((function(t,a){return!e[a]})),b=X.fromTableau(this.n-i,this.m,r,c,u);return new a(Object(o.a)(Object(o.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:r,baseVariables:c,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var n=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(n,2),s=i[0],r=i[1];return new a(Object(o.a)(Object(o.a)({},this),{},{baseVariables:r,tableau:s,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new a(Object(o.a)(Object(o.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),a}(be),fe=(a(16),a(0));function je(e){var t=e.value,a=e.position,n=void 0===a?"inner":a,i=e.hidden,s=void 0!==i&&i,r=e.showInvariant,l=void 0!==r&&r,o=e.isBase,c=void 0!==o&&o,u=e.isCorner,d=void 0!==u&&u,h=e.isHighlighted,m=void 0!==h&&h,f=e.isDisabled,j=void 0!==f&&f,p=e.isSelected,g=void 0!==p&&p,O=e.isSelectable,x=void 0!==O&&O,y=e.isSecondarySelected,w=void 0!==y&&y,k=e.showPointer,S=void 0===k||k,P=e.showSelection,C=void 0!==P&&P,N=e.showDisabled,L=void 0===N||N,F=e.useDecimal,B=void 0===F||F,M=e.useMixed,I=void 0!==M&&M,A=e.onClick,V=void 0===A?function(e){return e}:A,q="inner"===n,T=t.compare(v)>=0,_=["tableau-cell","cell-".concat(n),l&&T&&!j?"invariant-holds":"",!l||T||j?"":"invariant-broken",S&&(!j&&q&&!C||C&&x)?"clickable-cell":"",s?"hidden-cell":"",d?"corner-cell":"",!c||!q&&l?"":"base-cell",m&&!C?"highlighted-cell":"",C&&g?"selected-cell":"",C&&!x?"not-selectable-cell":"",C&&w?"secondary-cell":"",L&&!C&&j?"disabled-cell":""].join(" ");return Object(fe.jsx)("td",{className:_,onClick:V,children:Object(fe.jsx)(b.InlineMath,{children:E(t,I,B)})})}function pe(e){var t=e.state,a=e.position,n=e.settings,i=e.onCellClick,s=n.showSelection,r=n.selection;return Object(fe.jsx)(je,Object(o.a)({value:L(t.tableau[0]),position:a,isSelected:s&&z(0,t.columns-1,r),isSelectable:s&&G(0,t.columns-1,r),isSecondarySelected:s&&R(0,t.columns,r,t),onClick:function(){return i(0,t.columns-1)}},n))}function ve(e){var t=e.state,a=e.i,n=e.position,i=e.settings,s=e.onCellClick,r=i.showSelection,l=i.highlightInvariants,c=i.selection;return Object(fe.jsx)(je,Object(o.a)({value:L(t.tableau[a]),position:n,showInvariant:l,isDisabled:t.disabledRows[a],isSelected:r&&z(a,t.columns-1,c),isSelectable:r&&G(a,t.columns-1,c),isSecondarySelected:r&&R(a,t.columns,c,t),onClick:function(){return s(a,t.columns-1)}},i))}function ge(e){var t=e.state,a=e.position,n=e.settings,i=e.onCellClick,s=n.showSelection,r=n.highlightInvariants,l=n.selection,c=n.showBColumnsLeft,u=n.showSlackLeft,b=n.showBase,d=n.highlightBase;return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),c?pe({state:t,position:"".concat(a,"-left"),settings:n,onCellClick:i}):null,u?k(t.m).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][t.n+e],position:a,showInvariant:r&&!t.disableObjectiveInvariant,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!b,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&d,isSelected:s&&z(0,t.n+e,l),isSelectable:s&&G(0,t.n+e,l),isSecondarySelected:s&&R(0,t.n,l,t),onClick:function(){return i(0,t.n+e)}},n),t.n+e)})):null,k(t.n).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][e],position:a,showInvariant:r&&!t.disableObjectiveInvariant,hidden:t.isBase[e]&&!t.disabledColumns[e]&&!b,isDisabled:t.disabledColumns[e],isBase:t.isBase[e]&&d,isSelected:s&&z(0,e,l),isSelectable:s&&G(0,e,l),isSecondarySelected:s&&R(0,0,l,t),onClick:function(){return i(0,e)}},n),e)})),u?null:k(t.m).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][t.n+e],position:a,showInvariant:r&&!t.disableObjectiveInvariant,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!b,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&d,isSelected:s&&z(0,t.n+e,l),isSelectable:s&&G(0,t.n+e,l),isSecondarySelected:s&&R(0,t.n,l,t),onClick:function(){return i(0,t.n+e)}},n),e)})),c?null:pe({state:t,position:"".concat(a,"-right"),settings:n,onCellClick:i})]})}function Oe(e){var t=e.state,a=e.i,n=e.j,i=e.settings,s=e.onCellClick,r=i.showSelection,l=i.selection,c=i.highlightBase,u=i.showBase,b=i.highlightedPivots;return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[a][n],hidden:t.isBase[n]&&!t.disabledColumns[n]&&!u,isBase:t.isBase[n]&&!t.disabledColumns[n]&&c,isHighlighted:t.suggestedPivots[b].pivots[a][n],isSelected:r&&z(a,n,l),isSelectable:r&&G(a,n,l),isSecondarySelected:r&&R(a,0,l,t),isDisabled:!t.canPivot(a,n),onClick:function(){return s(a,n)}},i),n)}function xe(e){var t=e.state,a=e.onCellClick,n=void 0===a?function(e){return e}:a,i=e.highlightedPivots,s=void 0===i?"none":i,r=e.highlightBase,l=void 0===r||r,o=e.highlightInvariants,c=void 0===o||o,u=e.useDecimal,d=void 0===u||u,h=e.useMixed,m=void 0!==h&&h,f=e.showBase,j=void 0===f||f,p=e.selection,v=void 0===p?null:p,g=e.showPointer,O=void 0===g||g,x=e.showDisabled,y=void 0!==x&&x,w=e.showObjectiveBottom,S=void 0!==w&&w,P=e.showBColumnsLeft,C=void 0!==P&&P,N=e.showSlackLeft,L=void 0!==N&&N,F={highlightedPivots:s,highlightBase:l,highlightInvariants:c,useDecimal:d,useMixed:m,showBase:j,showSelection:null!==v,selection:v,showPointer:O,showDisabled:y,showObjectiveBottom:S,showBColumnsLeft:C,showSlackLeft:L};return Object(fe.jsx)("div",{className:"tableau-box",children:Object(fe.jsx)("table",{className:"tableau-table",children:Object(fe.jsxs)("tbody",{children:[S?null:ge({state:t,position:"top",settings:F,onCellClick:n}),k(t.m,1).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:0===e?"":t.baseVariables[e-1]<0||t.disabledColumns[t.baseVariables[e-1]]||t.disabledRows[e]?"-":t.primalLabels[t.baseVariables[e-1]]})}),C?ve({state:t,i:e,position:"left",settings:F,onCellClick:n}):null,L?k(t.m,t.n).map((function(a){return Oe({state:t,i:e,j:a,settings:F,onCellClick:n})})):null,k(t.n).map((function(a){return Oe({state:t,i:e,j:a,settings:F,onCellClick:n})})),L?null:k(t.m,t.n).map((function(a){return Oe({state:t,i:e,j:a,settings:F,onCellClick:n})})),C?null:ve({state:t,i:e,position:"right",settings:F,onCellClick:n})]},e)})),S?ge({state:t,position:"bottom",settings:F,onCellClick:n}):null,Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),C?Object(fe.jsx)("td",{}):null,L?k(t.m).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})):null,k(t.n).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[e]})},e)})),L?null:k(t.m).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})),C?null:Object(fe.jsx)("td",{})]})]})})})}var ye=[{name:"Standard 1",program:X.fromArrays([[1,1,3],[2,2,5],[4,1,2]],[30,24,36],[3,1,2],"primal")},{name:"Standard 2",program:X.fromArrays([[1,1],[1,0],[0,1]],[20,12,16],[18,12.5],"primal")},{name:"Initial solution not feasible",program:X.fromArrays([[2,-1],[1,-5]],[2,-4],[2,-1],"primal")},{name:"Initial solution not feasible 2",program:X.fromArrays([[-2,"-7.5",3],[-20,-5,-3]],[-1e4,-3e4],[-1,-1,-1],"primal")},{name:"Infeasible",program:X.fromArrays([[-1,-1,0],[0,-1,-1],[1,2,1]],[-2,-3,4],[1,1,1],"primal")},{name:"Primal unbounded",program:X.fromArrays([[1,-1,1],[-2,1,0],[0,1,-2]],[5,3,5],[0,2,1],"primal")},{name:"Dual unbounded",program:X.fromArrays([[-1,2,-1],[6,-1,2]],[-1,-1],[0,0,-3],"dual")},{name:"Gomory cuts for primal LP",program:X.fromArrays([[-1,1],[8,2]],[2,17],["5.5","2.1"],"primal")},{name:"Gomory cuts for primal LP no solution",program:X.fromArrays([[3,2],[-2,-3],[1,-3],[-1,3]],[3,-1,0,2],[1,1],"primal")},{name:"Equality Form",program:X.fromArrays([[1,1,1],[2,2,5]],[5,16],[3,4,2],"equality")},{name:"Equality Form 2",program:X.fromArrays([[-3,-2,4],[-1,-1,4],[3,-3,0]],[-10,-4,0],[1,1,1],"equality")},{name:"Equality infeasible",program:X.fromArrays([[1,1,1],[2,2,5]],[12,16],[3,1,2],"equality")},{name:"Equality redundant row",program:X.fromArrays([[1,1],[2,3],[3,4]],[4,9,13],[1,1],"equality")},{name:"Equality redundant row 2",program:X.fromArrays([[1,1,1,3],[2,3,1,2],[3,4,2,5]],[4,9,13],[1,1,1,1],"equality")}];a(17),a(31);function we(e){return/^-?((\d+(\/[1-9]\d*)?)|(\d*\.\d+)|(\d+\.))$/.test(e)}function ke(e){var t=e.value,a=e.onChange,n=e.ending;return Object(fe.jsxs)("div",{className:"input-field",children:[Object(fe.jsx)("input",{className:we(t)?"correct-input":"wrong-input",value:t,onChange:function(e){return a(e.target.value)}}),Object(fe.jsx)("span",{className:"label",children:Object(fe.jsx)(b.InlineMath,{children:n})})]})}function Se(e){var t=e.examplesList,a=e.selected,n=e.onChange;function i(e){n(e,-1!==parseInt(e)?t[e].program:null)}return Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("label",{htmlFor:"example",children:"Example:"}),Object(fe.jsxs)("select",{id:"example",value:a,onChange:function(e){return i(e.target.value)},children:[Object(fe.jsx)("option",{value:-1,children:"Custom"}),t.map((function(e,t){return Object(fe.jsx)("option",{value:t,children:e.name},t)}))]})]})}function Pe(e){var t=e.onFinish,a=Object(n.useState)({program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}),s=Object(l.a)(a,2),r=s[0],c=s[1],d=function(e,t){var a=parseInt(e),n=parseInt(t);a=isNaN(a)?r.program.n:Math.max(Math.min(a,7),1),n=isNaN(n)?r.program.m:Math.max(Math.min(n,7),1),c(Object(o.a)(Object(o.a)({},r),{},{program:r.program.updateSize(a,n),fieldsA:I(r.fieldsA.map((function(e){return I(e,a,(function(){return"0"}))})),n,(function(){return k(a).map((function(e){return"0"}))})),fieldsB:I(r.fieldsB,n,(function(){return"0"})),fieldsC:I(r.fieldsC,a,(function(){return"0"})),fieldN:e,fieldM:t}))},h=function(){var e=parseInt(r.fieldN),t=parseInt(r.fieldM);e=isNaN(e)?r.program.n:Math.max(Math.min(e,7),1),t=isNaN(t)?r.program.m:Math.max(Math.min(t,7),1),d(e.toString(),t.toString())},m=function(e,t){c(Object(o.a)(Object(o.a)({},r),{},{program:r.program.updateB(e,we(t)?new u.a(t):v),fieldsB:V(r.fieldsB,e,t),selectedExample:-1}))},f=function(e,t){c(Object(o.a)(Object(o.a)({},r),{},{program:r.program.updateC(e,we(t)?new u.a(t):v),fieldsC:V(r.fieldsC,e,t),selectedExample:-1}))};var j=r.program.isDual(),p=r.program.isEquality();return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Se,{examplesList:ye,selected:r.selectedExample,onChange:function(e,t){c(null===t?Object(o.a)(Object(o.a)({},r),{},{selectedExample:e}):Object(o.a)(Object(o.a)({},r),{},{program:t,fieldsA:t.A.map((function(e){return e.map((function(e){return e.toFraction()}))})),fieldsB:t.b.map((function(e){return e.toFraction()})),fieldsC:t.c.map((function(e){return e.toFraction()})),fieldN:t.n.toString(),fieldM:t.m.toString(),selectedExample:e}))}}),Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("label",{htmlFor:"n",children:"Variables:"}),Object(fe.jsx)("input",{type:"number",id:"n",min:"1",max:7,value:j?r.fieldM:r.fieldN,onChange:j?function(e){return d(r.fieldN,e.target.value)}:function(e){return d(e.target.value,r.fieldM)},onBlur:h,required:!0}),Object(fe.jsx)("label",{htmlFor:"m",children:p?"Equalities":"Inequalities:"}),Object(fe.jsx)("input",{type:"number",id:"m",min:"1",max:7,value:j?r.fieldN:r.fieldM,onChange:j?function(e){return d(e.target.value,r.fieldM)}:function(e){return d(r.fieldN,e.target.value)},onBlur:h,required:!0}),Object(fe.jsx)("label",{htmlFor:"form",children:"Form:"}),Object(fe.jsxs)("select",{id:"form",value:r.program.form,onChange:function(e){return t=e.target.value,void c(Object(o.a)(Object(o.a)({},r),{},{program:r.program.setForm(t),selectedExample:-1}));var t},children:[Object(fe.jsx)("option",{value:"primal",children:"Standard form"}),Object(fe.jsx)("option",{value:"dual",children:"Dual to standard form"}),Object(fe.jsx)("option",{value:"equality",children:"Equality form"}),Object(fe.jsx)("option",{value:"equality_dual",children:"Dual to equality form"})]})]}),Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("button",{onClick:function(){return t(r.program)},children:"Finish"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},r),{},{program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}))},children:"Reset"})]}),Object(fe.jsx)("div",{style:{clear:"both"}}),Object(fe.jsx)("table",{id:"input-table",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{className:"min-max",children:Object(fe.jsx)(b.InlineMath,{children:j?"min":"max"})}),k(j?r.program.m:r.program.n).map((function(e){return Object(fe.jsxs)(i.a.Fragment,{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(ke,{value:j?r.fieldsB[e]:r.fieldsC[e],onChange:j?function(t){return m(e,t)}:function(t){return f(e,t)},ending:r.program.labels[e]})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:e!==(j?r.program.m:r.program.n)-1?"+":""})})]},e)}))]}),k(j?r.program.n:r.program.m).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),k(j?r.program.m:r.program.n).map((function(t){return Object(fe.jsxs)(i.a.Fragment,{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(ke,{value:j?r.fieldsA[t][e]:r.fieldsA[e][t],onChange:function(a){return function(e,t,a){c(Object(o.a)(Object(o.a)({},r),{},{program:r.program.updateA(e,t,we(a)?new u.a(a):v),fieldsA:A(r.fieldsA,e,t,a),selectedExample:-1}))}(j?t:e,j?e:t,a)},ending:r.program.labels[t]})},t),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t!==(j?r.program.m:r.program.n)-1?"+":j?"\\geq":p?"=":"\\leq"})})]},t)})),Object(fe.jsx)("td",{children:Object(fe.jsx)(ke,{value:j?r.fieldsC[e]:r.fieldsB[e],onChange:j?function(t){return f(e,t)}:function(t){return m(e,t)},ending:""},e)})]},e)})),p&&j?Object(fe.jsx)("tr",{children:Object(fe.jsx)("td",{})}):Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{colSpan:2*(j?r.program.m:r.program.n),className:"variable-list",children:Object(fe.jsx)(b.InlineMath,{children:r.program.labels.join(",")})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"\\geq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"0"})})]})]})}),Object(fe.jsx)(xe,{state:ee(r.program),showPointer:!1})]})}var Ce=a(13),Ne=a(19),Le=a.n(Ne);a(33);function Fe(e){e.name,e.label;var t=e.children;return Object(fe.jsx)("div",{className:"pane",children:t})}function Be(e){var t=e.chosen,a=e.setChosen,n=e.children.flat().filter((function(e){return null!==e}));return Object(fe.jsxs)("div",{className:"multi-pane",children:[Object(fe.jsxs)("div",{className:"pane-list",children:[n.map((function(e,n){return Object(fe.jsx)("div",{className:"pane-button ".concat(t===e.props.name?"pane-button-selected":""),onClick:function(){return a(e.props.name)},children:e.props.label},n)})),Object(fe.jsx)("div",{style:{clear:"both"}})]}),n.map((function(e,a){return Object(fe.jsx)("div",{className:"".concat(t!==e.props.name?"pane-hidden":""),children:e},a)}))]})}function Me(e){var t=e.children;return Object(fe.jsxs)("div",{className:"split-pane",children:[Object(fe.jsx)("div",{className:"split",children:t[0]}),Object(fe.jsx)("div",{className:"split-border"}),Object(fe.jsx)("div",{className:"split",children:t[1]})]})}a(34);function Ie(e){var t=e.value,a=e.label,n=e.first,i=void 0!==n&&n,s=e.firstNonZero,r=void 0!==s&&s,l=e.lastInEmptyRow,o=void 0!==l&&l,c=e.useDecimal,u=void 0===c||c,d=e.useMixed,h=void 0===d||d;return i?Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:o?"0":t.equals(v)?"":t.equals(g)?a:t.equals(O)?"-".concat(a):"".concat(E(t,h,u)," ").concat(a)})}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("td",{className:"operator",children:Object(fe.jsx)(b.InlineMath,{children:t.equals(v)?"":t.compare(v)<0?"-":r?"":"+"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:o?"0":t.equals(v)?"":t.abs().equals(g)?a:"".concat(E(t.abs(),h,u)," ").concat(a)})})]})}function Ae(e){var t=e.program,a=e.useDecimal,n=e.useMixed;function i(e){return e.map((function(e){return!e.equals(v)})).indexOf(!0)}var s=t.isDual(),r=!s,l=t.isEquality(),o=r?k(t.m).map((function(e){return i(t.A[e])})):k(t.n).map((function(e){return i(k(t.m).map((function(a){return t.A[a][e]})))})),c=i(r?t.c:t.b);return Object(fe.jsx)("table",{className:"program-display",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:r?"max":"min"})}),k(r?t.n:t.m).map((function(e){return Object(fe.jsx)(Ie,{value:r?t.c[e]:t.b[e],first:0===e,label:t.labels[e],firstNonZero:e===c,lastInEmptyRow:e===(r?t.n:t.m)-1&&-1===c,useDecimal:a,useMixed:n},e)}))]}),k(r?t.m:t.n).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),k(r?t.n:t.m).map((function(i){return Object(fe.jsx)(Ie,{value:r?t.A[e][i]:t.A[i][e],first:0===i,label:t.labels[i],firstNonZero:i===o[e],lastInEmptyRow:i===(r?t.n:t.m)-1&&-1===o[e],useDecimal:a,useMixed:n},i)})),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:s?"\\geq":l?"=":"\\leq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(r?t.b[e]:t.c[e],n,a)})})]},e)})),"equality_dual"===t.form?null:Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{colSpan:r?2*t.n:2*t.m,children:Object(fe.jsx)(b.InlineMath,{children:t.labels.join(", ")})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"\\geq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"0"})})]})]})})}function Ve(e){var t=e.tableau,a=e.useDecimal,n=e.useMixed,i=k(t.columns-1).filter((function(e){return!t.isBase[e]}));return Object(fe.jsx)("table",{className:"program-display",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"z"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"="})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(t.tableau[0][t.columns-1],n,a)})}),i.map((function(e){return Object(fe.jsx)(Ie,{value:t.tableau[0][e].neg(),label:t.primalLabels[e],useDecimal:a,useMixed:n},e)}))]}),k(t.m).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.baseVariables[e]>=0?t.primalLabels[t.baseVariables[e]]:"0"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"="})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.tableau[e+1][t.columns-1].toLatex()})}),i.map((function(i){return Object(fe.jsx)(Ie,{value:t.tableau[e+1][i].neg(),label:t.primalLabels[i],useDecimal:a,useMixed:n},i)}))]},e)}))]})})}function qe(e){var t=e.title,a=e.labels,n=e.solution,i=e.toShow,s=void 0===i?n.length:i,r=e.feasible,l=e.useDecimal,o=void 0===l||l,c=e.useMixed,u=void 0!==c&&c;return Object(fe.jsxs)("div",{className:"solution",children:[Object(fe.jsxs)("div",{className:"solution-header",children:[t,r?Object(fe.jsx)("span",{colSpan:s,className:"highlight-pos",children:"Feasible"}):Object(fe.jsx)("span",{colSpan:s,className:"highlight-neg",children:"Infeasible"})]}),Object(fe.jsx)("div",{className:"inner",children:Object(fe.jsx)("table",{className:"solution-table",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsx)("tr",{children:k(s).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:a[e]})},e)}))}),Object(fe.jsx)("tr",{children:k(s).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(n[e],u,o)})},e)}))})]})})})]})}function Te(e){var t=e.name,a=e.currentValue,n=e.options,i=e.onChange;return Object(fe.jsx)("div",{className:"setting",children:Object(fe.jsx)("select",{className:"setting-select",name:t,value:a,onChange:function(e){return i(e.target.value)},children:n.map((function(e,t){return Object(fe.jsx)("option",{value:e.value,children:e.label},t)}))})})}function _e(e){var t=e.name,a=e.description,n=e.currentValue,i=e.onChange,s=e.color;return Object(fe.jsxs)("div",{className:"setting",children:[Object(fe.jsx)("div",{className:"switch",children:Object(fe.jsx)(Le.a,{id:t,height:25,width:50,onChange:function(e){return i(e)},onColor:s,checked:n})}),Object(fe.jsx)("label",{htmlFor:t,className:"description",children:a})]})}function De(e){var t=e.settings,a=e.setSetting,n=e.availablePivots;return Object(fe.jsxs)("div",{id:"settings",children:[Object(fe.jsxs)("div",{className:"setting-pivot",children:[Object(fe.jsx)("div",{className:"header",children:"Suggested Pivots"}),Object(fe.jsx)(Te,{name:"highlighted_pivot",description:"Suggested",currentValue:t.highlightedPivots,options:Object.entries(n).map((function(e){return{value:e[0],label:e[1].description}})),onChange:function(e){return a("highlightedPivots",e)}})]}),Object(fe.jsxs)("div",{className:"setting-base",children:[Object(fe.jsx)("div",{className:"header",children:"Base columns"}),Object(fe.jsx)(_e,{name:"highlight_base",color:"#88c5ff",description:"Highlight base columns",currentValue:t.highlightBase,onChange:function(e){return a("highlightBase",e)}}),Object(fe.jsx)(_e,{name:"show_base",color:"#88c5ff",description:"Show base columns",currentValue:t.showBase,onChange:function(e){return a("showBase",e)}})]}),Object(fe.jsxs)("div",{className:"setting-other",children:[Object(fe.jsx)("div",{className:"header",children:"Other settings"}),Object(fe.jsx)(_e,{name:"highlight_invariants",color:"#6cd875",description:"Highlight invariants",currentValue:t.highlightInvariants,onChange:function(e){return a("highlightInvariants",e)}}),Object(fe.jsx)(_e,{name:"use_decimal",color:"#6cd875",description:"Use decimal fractions",currentValue:t.useDecimal,onChange:function(e){return a("useDecimal",e)}}),Object(fe.jsx)(_e,{name:"use_mixed",color:"#6cd875",description:"Use mixed fractions",currentValue:t.useMixed,onChange:function(e){return a("useMixed",e)}}),Object(fe.jsx)(_e,{name:"show_disabled",color:"#6cd875",description:"Darken cells where pivot cannot be done",currentValue:t.showDisabled,onChange:function(e){return a("showDisabled",e)}}),Object(fe.jsx)(_e,{name:"objective_at_bottom",color:"#6cd875",description:"Display objective function row at the bottom",currentValue:t.showObjectiveBottom,onChange:function(e){return a("showObjectiveBottom",e)}}),Object(fe.jsx)(_e,{name:"b_column_on_left",color:"#6cd875",description:"Display the b column on the left",currentValue:t.showBColumnsLeft,onChange:function(e){return a("showBColumnsLeft",e)}}),Object(fe.jsx)(_e,{name:"slack_on_left",color:"#6cd875",description:"Display the slack variables on the left",currentValue:t.showSlackLeft,onChange:function(e){return a("showSlackLeft",e)}})]})]})}function Ue(e){var t=e.initialProgram,a=e.onStartOver,i=Object(n.useState)({stateHistory:[ee(t)],index:0,settings:{highlightedPivots:"bland_primal",highlightBase:!0,showBase:!0,highlightInvariants:!0,useDecimal:!0,useMixed:!1,showDisabled:!0,showObjectiveBottom:!1,showBColumnsLeft:!1,showSlackLeft:!1},selectedProgram:null,currentTransition:null}),s=Object(l.a)(i,2),r=s[0],c=s[1],u=r.stateHistory[r.index],d=r.settings.highlightedPivots;d in u.suggestedPivots||(d=u.defaultSuggestion,f("highlightedPivots",u.defaultSuggestion));var h=r.selectedProgram;function m(e){c(Object(o.a)(Object(o.a)({},r),{},{stateHistory:r.stateHistory.slice(0,r.index+1).concat(e),index:r.index+1,currentTransition:null}))}function f(e,t){c(Object(o.a)(Object(o.a)({},r),{},{settings:Object(o.a)(Object(o.a)({},r.settings),{},Object(Ce.a)({},e,t))}))}return u.programs.map((function(e){return e.name})).concat("slack").some((function(e){return e===h}))||(console.log("old selected program ".concat(h)),h=u.defaultProgram,c(Object(o.a)(Object(o.a)({},r),{},{selectedProgram:h})),console.log("setting selected program ".concat(h)),console.log(u.programs.map((function(e){return e.name})).concat("slack"))),console.log(u),Object(fe.jsxs)("div",{id:"inner-wrapper",children:[Object(fe.jsxs)("div",{id:"tab-and-controls",children:[Object(fe.jsxs)("div",{id:"controls",children:[Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},r),{},{index:r.index-1,currentTransition:null}))},disabled:0===r.index,children:"Previous"}),Object(fe.jsx)("span",{id:"counter",children:"".concat(r.index+1," / ").concat(r.stateHistory.length)}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},r),{},{index:r.index+1,currentTransition:null}))},disabled:r.index===r.stateHistory.length-1,children:"Next"})]}),Object(fe.jsx)(xe,Object(o.a)(Object(o.a)({state:u,onCellClick:function(e,t){null===r.currentTransition?u.canPivot(e,t)&&m(u.pivot(e,t)):G(e,t,r.currentTransition.selection)&&c(Object(o.a)(Object(o.a)({},r),{},{currentTransition:Object(o.a)(Object(o.a)({},r.currentTransition),{},{selection:H(e,t,r.currentTransition.selection)})}))},showDisabled:!0,selection:null===r.currentTransition?null:r.currentTransition.selection},r.settings),{},{highlightedPivots:d})),Object(fe.jsx)("div",{id:"message",children:null===r.currentTransition?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("p",{children:u.statusMessage.split("$").map((function(e,t){return t%2===0?e:Object(fe.jsx)(b.InlineMath,{children:e})}))}),u.transitions.map((function(e,t){return Object(fe.jsx)("button",{className:"inline-button",onClick:function(){return function(e){"none"===e.args?m(e.getNewState()):c(Object(o.a)(Object(o.a)({},r),{},{currentTransition:{getNewState:e.getNewState,validateArgs:e.validateArgs,prompt:e.prompt,selection:{type:e.args,selected:S(e.defaultSelection),allowed:e.allowed},errorMessage:null}}))}(e)},children:e.label},t)}))]}):Object(fe.jsxs)(fe.Fragment,{children:[r.currentTransition.prompt,Object(fe.jsx)("button",{onClick:function(){var e=r.currentTransition.selection.selected,t=r.currentTransition.validateArgs(e),a=Object(l.a)(t,2),n=a[0],i=a[1];n?m(r.currentTransition.getNewState(e)):c(Object(o.a)(Object(o.a)({},r),{},{currentTransition:Object(o.a)(Object(o.a)({},r.currentTransition),{},{errorMessage:i})}))},className:"inline-button",children:"Done"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},r),{},{currentTransition:Object(o.a)(Object(o.a)({},r.currentTransition),{},{selection:Object(o.a)(Object(o.a)({},r.currentTransition.selection),{},{selected:S(r.currentTransition.selection.allowed)})})}))},className:"inline-button",children:"Select All"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},r),{},{currentTransition:null}))},className:"inline-button",children:"Cancel"}),null===r.currentTransition.errorMessage?null:Object(fe.jsx)("p",{className:"highlight-neg",children:r.currentTransition.errorMessage})]})})]}),Object(fe.jsxs)("div",{id:"sidebar",children:[Object(fe.jsx)(De,{settings:Object(o.a)(Object(o.a)({},r.settings),{},{highlightedPivots:d}),availablePivots:u.suggestedPivots,setSetting:f}),Object(fe.jsx)("button",{onClick:a,id:"start-over",children:"Start over with a new LP"})]}),Object(fe.jsxs)(Me,{children:[Object(fe.jsx)(qe,Object(o.a)({title:"Primal solution",labels:u.primalLabels,solution:u.primalSolution,feasible:u.primalFeasible},r.settings)),Object(fe.jsx)(qe,Object(o.a)({title:"Dual solution",labels:u.dualLabels,solution:u.dualSolution,feasible:u.dualFeasible},r.settings))]}),Object(fe.jsxs)(Be,{chosen:h,setChosen:function(e){return c(Object(o.a)(Object(o.a)({},r),{},{selectedProgram:e}))},children:[u.programs.map((function(e,t){var a=e.name,n=e.program;return Object(fe.jsx)(Fe,{name:a,label:a,children:Object(fe.jsx)(Ae,Object(o.a)({program:n},r.settings))},t)})),u.isEquality?null:Object(fe.jsx)(Fe,{name:"slack",label:"Slack Form",children:Object(fe.jsx)(Ve,Object(o.a)({tableau:u},r.settings))})]})]})}var Ee=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],i=t[1];return null===a?Object(fe.jsx)("div",{id:"wrapper",children:Object(fe.jsx)(Pe,{onFinish:function(e){return i(e)}})}):Object(fe.jsx)("div",{id:"wrapper",children:Object(fe.jsx)(Ue,{initialProgram:a,onStartOver:function(){return i(null)}})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),s(e),r(e)}))};r.a.render(Object(fe.jsx)(i.a.StrictMode,{children:Object(fe.jsx)(Ee,{})}),document.getElementById("root")),Ge()}},[[35,1,2]]]);
//# sourceMappingURL=main.3d38a6a2.chunk.js.map