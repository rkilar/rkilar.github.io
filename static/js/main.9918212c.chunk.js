(this["webpackJsonppraca-licencjacka"]=this["webpackJsonppraca-licencjacka"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),r=n(18),s=n.n(r),l=(n(24),n(2)),o=(n(25),n(1)),c=n(7),u=n.n(c),b=n(3),d=n(10),h=n(9),m=n(8),f=n(5),j=n(6),p=n(14),v=new u.a("0"),g=new u.a("1"),O=new u.a("-1"),x=function(e){return e.divisible(g)},y=function(e){return e.every((function(e){return x(e)}))},w=function(e){return e.every((function(e){return e.compare(v)>=0}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(p.a)(Array(e).keys()).map((function(e){return e+t}))},k=function(e){return Object(p.a)(e)},P=function(e){return e.map((function(e){return k(e)}))},C=function(e,t){return e.map((function(e,n){return e.add(t[n])}))},B=function(e,t){return e.map((function(e){return e.mul(t)}))},N=function(e){return e[e.length-1]},F=function(e){return e.reduce((function(e,t){var n=Object(l.a)(e,2),a=n[0],i=n[1];return a=t?a+1:a,i.push(a),[a,i]}),[0,[]])},L=function(e,t){return e.reduce((function(e,t){return t>=0&&(e[t]=!0),e}),S(t).map((function(){return!1})))},M=function(e,t){return e.reduce((function(e,t,n){return t>=0&&(e[t]=n),e}),S(t).map((function(){return-1})))},I=function(e,t,n){return e.length>=t?e.slice(0,t):k(e).concat(S(t-e.length).map((function(e){return n()})))},A=function(e,t,n,a){var i=P(e);return i[t][n]=a,i},_=function(e,t,n){var a=k(e);return a[t]=n,a},V=function(e,t){return e.mod(t).add(t).mod(t)},q=function(e){return e.sub(V(e,g))},T=function(e){return e.add(V(g.sub(V(e,g)),g))},D=function(e,t){for(var n=0,a=1;t%e===0;)a*=e,t/=e,n++;return[n,a]},U=function(e){var t=e.d,n=D(2,t),a=Object(l.a)(n,2),i=a[0],r=a[1],s=D(5,t),o=Object(l.a)(s,2),c=o[0];if(t/(r*o[1])!==1)return null;for(var u=e.n;i<c;)i++,u*=2;for(;c<i;)c++,u*=5;var b=u.toString().padStart(i+1,"0");return(-1===e.s?"-":"")+(0===i?b:"".concat(b.slice(0,-i),".").concat(b.slice(-i)))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var a=U(e);if(null!==a)return a}return e.toLatex(t)};function G(e,t,n){switch(n.type){case"rows":return n.allowed[e];case"columns":case"base_columns":return n.allowed[t];case"cells":return n.allowed[e][t];default:return!1}}function z(e,t,n){switch(n.type){case"rows":return n.selected[e];case"columns":case"base_columns":return n.selected[t];case"cells":return n.selected[e][t];default:return!1}}function R(e,t,n,a){return"base_columns"===n.type&&e>0&&n.selected[a.baseVariables[e-1]]}function H(e,t,n){return function(e,t,n,a){switch(n.type){case"rows":return Object(o.a)(Object(o.a)({},n),{},{selected:_(n.selected,e,a)});case"columns":case"base_columns":return Object(o.a)(Object(o.a)({},n),{},{selected:_(n.selected,t,a)});case"cells":return Object(o.a)(Object(o.a)({},n),{},{selected:A(n.selected,e,t,a)});default:return Object(o.a)({},n)}}(e,t,n,!z(e,t,n))}function $(e,t,n,a){var i=P(e);i[n]=B(i[n],i[n][a].inverse());for(var r=0;r<i.length;r++)r!==n&&(i[r]=C(i[r],B(i[n],i[r][a].neg())));var s=k(t);return s[n-1]=a,[i,s]}function Y(e){return{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"None"}}function Z(e){return{generic_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for primal simplex"},bland_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for primal simplex"}}}function J(e){return{generic_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for dual simplex"},bland_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for dual simplex"}}}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=Z(e);if(!e.slice(1).every((function(e){return N(e).compare(v)>=0})))return[i,!1];for(var r=!1,s=!1,l=0;l<e[0].length-1;l++)if(!(t[l]||e[0][l].compare(v)>=0)){for(var o=null,c=null,u=1;u<e.length;u++)e[u][l].compare(v)<=0||(null===o||o.compare(N(e[u]).div(e[u][l]))>0)&&(o=N(e[u]).div(e[u][l]),c=u);if(null!==o){for(var b=1;b<e.length;b++)e[b][l].compare(v)<=0||o.equals(N(e[b]).div(e[b][l]))&&(i.generic_primal.pivots[b][l]=!0);r||(r=!0,i.bland_primal.pivots[c][l]=!0)}else s=!0}return n&&(i.generic_primal.pivots=i.generic_primal.pivots.map((function(e){return e.map((function(e,t){return t<a&&e}))})),i.bland_primal.pivots=i.bland_primal.pivots.map((function(e){return e.map((function(e,t){return t<a&&e}))}))),[i,s]}function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=J(e);if(!e[0].slice(0,-1).every((function(e){return e.compare(v)>=0})))return[a,!1];for(var i=!1,r=!1,s=1;s<e.length;s++)if(!(N(e[s]).compare(0)>=0)){for(var l=null,o=null,c=0;c<e[s].length-1;c++)if(!(e[s][c].compare(v)>=0)){var u=e[0][c].div(e[s][c]).abs();(null===l||u.compare(l)<0)&&(l=u,o=c)}if(null!==l){for(var b=0;b<e[s].length-1;b++)e[s][b].compare(v)>=0||l.equals(e[0][b].div(e[s][b]).abs())&&(a.generic_dual.pivots[s][b]=!0);i||(i=!0,a.bland_dual.pivots[s][o]=!0)}else r=!0}return t&&(a.generic_dual.pivots=a.generic_dual.pivots.map((function(e){return e.map((function(e,t){return t<n&&e}))})),a.bland_dual.pivots=a.bland_dual.pivots.map((function(e){return e.map((function(e,t){return t<n&&e}))}))),[a,r]}var Q=function(){return v},X=function(){function e(t){var n=t.n,a=t.m,i=t.A,r=t.b,s=t.c,l=t.form,o=t.labels,c=void 0===o?null:o;Object(f.a)(this,e),this.n=n,this.m=a,this.A=i,this.b=r,this.c=s,this.form=l,this.labels=null!==c?c:"primal"===l||"equality"===l?S(n).map((function(e){return"x_{".concat(e+1,"}")})):S(a).map((function(e){return"y_{".concat(e+1,"}")}))}return Object(j.a)(e,[{key:"isDual",value:function(){return"dual"===this.form||"equality_dual"===this.form}},{key:"isEquality",value:function(){return"equality"===this.form||"equality_dual"===this.form}},{key:"copy",value:function(){return new e(Object(o.a)(Object(o.a)({},this),{},{A:P(this.A),b:k(this.b),c:k(this.c)}))}},{key:"updateSize",value:function(t,n){var a,i=I(this.A.map((function(e){return I(e,t,Q)})),n,(a=t,function(){return S(a).map((function(){return v}))})),r=I(this.b,n,Q),s=I(this.c,t,Q);return new e({n:t,m:n,A:i,b:r,c:s,form:this.form})}},{key:"updateA",value:function(t,n,a){return new e(Object(o.a)(Object(o.a)({},this),{},{A:A(this.A,t,n,a)}))}},{key:"updateB",value:function(t,n){return new e(Object(o.a)(Object(o.a)({},this),{},{b:_(this.b,t,n)}))}},{key:"updateC",value:function(t,n){return new e(Object(o.a)(Object(o.a)({},this),{},{c:_(this.c,t,n)}))}},{key:"setForm",value:function(t){return new e(Object(o.a)(Object(o.a)({},this),{},{form:t,labels:null}))}},{key:"setLabels",value:function(t){return new e(Object(o.a)(Object(o.a)({},this),{},{labels:t}))}},{key:"isIntegral",value:function(){return this.A.every((function(e){return y(e)}))&&y(this.b)&&y(this.c)}}],[{key:"zeroProgram",value:function(t,n){return new e({n:t,m:n,A:S(n).map((function(){return S(t).map((function(){return v}))})),b:S(n).map((function(){return v})),c:S(t).map((function(){return v})),form:"primal"})}},{key:"fromArrays",value:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"primal",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new e({n:a.length,m:n.length,A:t.map((function(e){return e.map((function(e){return u()(e)}))})),b:n.map((function(e){return u()(e)})),c:a.map((function(e){return u()(e)})),form:i,labels:r})}},{key:"fromTableau",value:function(t,n,a,i,r){for(var s=L(i,t+n),o=0;o<n;o++)if(!s[t+o])for(var c=1;c<=n;c++)if(!a[c][t+o].equals(v)&&i[c-1]<t){var u=$(a,i,c,t+o),b=Object(l.a)(u,2);a=b[0],i=b[1],s=L(i,t+n);break}var d=M(i,t+n);return a=[a[0]].concat(S(n).map((function(e){return a[d[t+e]+1]}))),new e({n:t,m:n,A:S(n).map((function(e){return S(t).map((function(t){return a[e+1][t]}))})),b:S(n).map((function(e){return N(a[e+1])})),c:S(t).map((function(e){return a[0][e].neg()})),form:"primal",labels:r.slice(0,t)})}}]),e}();function ee(e){return"equality"===e.form||"equality_dual"===e.form?be.getFromProgram(e):re.getFromProgram(e)}function te(e,t,n){return function(a){return Array.isArray(a)&&a.every((function(e){return"boolean"===typeof e}))?a.every((function(t,n){return!t||e[n]}))?a.includes(!0)?[!0,null]:[!1,"At least one ".concat(t," must be selected.")]:[!1,n]:[!1,"Argument must be an array of booleans"]}}function ne(e,t){var n=S(e.m+1).map((function(t){return!x(N(e.tableau[t]))}));return{label:"Add Gomory cuts for primal LP",args:"rows",prompt:"Select rows to use in making cuts",allowed:n,defaultSelection:S(e.m+1).map((function(){return!1})),validateArgs:te(n,"row","Only rows with non integer value in the last column can be used."),getNewState:t}}function ae(e,t){var n=S(e.columns).map((function(t){return!x(e.tableau[0][t])}));return{label:"Add Gomory cuts for dual LP",args:"columns",prompt:"Select columns to use in making cuts",allowed:n,defaultSelection:S(e.columns).map((function(){return!1})),validateArgs:te(n,"column","Only columns with non integer value in the first row can be used."),getNewState:t}}function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.primalUnbounded)return"The primal LP is unbounded.";if(e.dualUnbounded)return"The dual LP is unbounded.";if(0===e.iter&&!e.primalFeasible&&t)return e.dualFeasible?"Use the dual simplex method. Alternatively use an auxiliary LP or Farkas lemma to find a feasible primal solution":"Use an auxiliary LP or Farkas lemma to find a feasible primal solution";if(e.primalFeasible&&e.dualFeasible){var i=!y(e.primalSolution)&&n,r=!y(e.dualSolution)&&e.primalProgram.isIntegral()&&a;return i&&r?"The LP is optimized, but the primal and dual solutions aren't integral. You can use Gomory cuts to look for integral solutions.":i?"The LP is optimized, but the primal solution isn't integral. You can use Gomory cuts to look for an integral solution.":r?"The LP is optimized, but the dual solution isn't integral. You can use Gomory cuts to look for an integral solution.":"An optimal solution has been reached."}return e.primalFeasible?"Use the primal simplex method to optimize the LP.":e.dualFeasible?"Use the dual simplex method to optimize the LP.":""}var re=function(){function e(t){var n=t.tableau,a=t.n,i=t.m,r=t.primalLabels,s=t.dualLabels,l=t.baseVariables,o=t.primalProgram,c=t.iter,u=t.columns,b=t.addInfo,d=void 0===b||b;Object(f.a)(this,e),this.tableau=n,this.n=a,this.m=i,this.columns=u,this.primalLabels=r,this.dualLabels=s,this.baseVariables=l,this.primalProgram=o,this.dualProgram=o.setForm("primal"===o.form?"dual":"equality_dual").setLabels(this.dualLabels),this.iter=c,d&&this.addInformation()}return Object(j.a)(e,[{key:"getStatusMessage",value:function(){return ie(this)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(0===this.iter&&!this.primalFeasible)return[{label:"Make an auxiliary LP",args:"none",getNewState:function(){return ce.getFromBasicState(e)}},{label:"Use Farkas Lemma",args:"none",getNewState:function(){return ue.getFromBasic(e)}}];if(this.primalFeasible&&this.dualFeasible){var t=[];return y(this.primalSolution)||t.push(ne(this,(function(t){return le.getFirstCut(e,t)}))),!y(this.dualSolution)&&this.primalProgram.isIntegral()&&t.push(ae(this,(function(t){return oe.getFirstCut(e,t)}))),t}return[]}},{key:"addInformation",value:function(){this.isBase=L(this.baseVariables,this.columns-1),this.calculateSolutions(),this.calculatePivots(),this.calculatePrograms(),this.calculateDisabled(),this.transitions=this.getPossibleTransitions()}},{key:"calculatePivots",value:function(){var e=K(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=W(this.tableau),r=Object(l.a)(i,2),s=r[0],c=r[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},n),s),this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=c}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return N(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,-1)),this.primalSolution=S(this.columns-1).map((function(){return v}));for(var e=0;e<this.m;e++)this.primalSolution[this.baseVariables[e]]=N(this.tableau[e+1]);if(!this.primalProgram.equalityForm){this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}}},{key:"calculatePrograms",value:function(){this.programs=[{name:"Primal LP",program:this.primalProgram},{name:"Dual LP",program:this.dualProgram}],this.defaultProgram="Primal LP"}},{key:"calculateDisabled",value:function(){this.disabledColumns=S(this.columns).map((function(){return!1})),this.disabledRows=this.tableau.map((function(){return!1}))}},{key:"canPivot",value:function(e,t){return!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(t,n){var a=$(this.tableau,this.baseVariables,t,n),i=Object(l.a)(a,2),r=i[0],s=i[1];return new e(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(t){var n=[t.c.map((function(e){return e.neg()})).concat(S(t.m+1).map((function(){return v})))].concat(t.A.map((function(e,n){return e.concat(S(t.m).map((function(e){return e===n?g:v}))).concat(t.b[n])}))),a=S(t.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(S(t.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=S(t.m).map((function(e){return"y_{".concat(e+1,"}")})),r=S(t.m).map((function(e){return t.n+e}));return new e({tableau:n,n:t.n,m:t.m,columns:t.n+t.m+1,primalLabels:a,dualLabels:i,baseVariables:r,primalProgram:"dual"===t.form?t.setForm("primal"):t,iter:0})}}]),e}(),se=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},e),{},{addInfo:!1}))).baseFixed=a.baseVariables.every((function(e){return a.tableau[0][e].equals(v)})),a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return this.baseFixed?"The top row is fixed.":"Make pivots to represent the top row in the new base."}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(g)}},{key:"getPossibleTransitions",value:function(){var e=this;return this.baseFixed?[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:[]}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,n){return t.map((function(t,a){return e.canPivot(n,a)}))}));this.suggestedPivots={none:{pivots:t,description:"None"},generic_dual:{pivots:t,description:"Generic pivot for dual simplex"},bland_dual:{pivots:t,description:"Bland's rule for dual simplex"},generic_primal:{pivots:t,description:"Generic pivot for primal simplex"},bland_primal:{pivots:t,description:"Bland's rule for primal simplex"}},this.defaultSuggestion="bland_primal",this.primalUnbounded=!1,this.dualUnbounded=!1}},{key:"backToBasic",value:function(){return new re(Object(o.a)({},this))}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}]),n}(re),le=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.addedOverall,r=e.initialN,s=e.initialM,l=Object(d.a)(e,["addedOverall","initialN","initialM"]);return Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},l),{},{addInfo:!1}))).addedOverall=i,a.initialN=r,a.initialM=s,a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return ie(this,!1,!0,!1)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.primalSolution)){t.push(ne(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN+e.initialM&&t<e.columns-1&&e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"base_columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:te(n,"column","Only columns added with Gomory cuts that are currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=P(this.tableau),i=k(this.baseVariables),r=0,s=function(n){if(!e[n])return"continue";var s=t.tableau[0].length+r,l=a,o=S(s+1).map((function(e){return e===s?l[n][s-1].sub(q(l[n][s-1])).neg():e===s-1?g:l[n][e].sub(q(l[n][e])).neg()}));a=l.map((function(e){return e.slice(0,s-1).concat(v,e[s-1])})).concat([o]),i.push(s-1),r++},l=0;l<=this.m;l++)s(l);var c=this.primalLabels.concat(S(r).map((function(e){return"s_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),u=this.dualLabels.concat(S(r).map((function(e){return"y_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),b=X.fromTableau(this.n,this.m+r,a,i,c);return new n(Object(o.a)(Object(o.a)({},this),{},{m:this.m+r,columns:this.columns+r,tableau:a,baseVariables:i,primalLabels:c,dualLabels:u,primalProgram:b,iter:this.iter+1,addedOverall:this.addedOverall+r}))}},{key:"removeExtraColumns",value:function(e){var t=this,a=F(e),i=Object(l.a)(a,2),r=i[0],s=i[1],c=this.tableau.filter((function(n,a){return 0===a||!e[t.baseVariables[a-1]]})).map((function(t){return t.filter((function(t,n){return!e[n]}))})),u=this.baseVariables.filter((function(t){return!e[t]})).map((function(e){return e-s[e]})),b=this.primalLabels.filter((function(t,n){return!e[n]})),d=this.dualLabels.filter((function(n,a){return!e[a+t.n]})),h=X.fromTableau(this.n,this.m-r,c,u,b);return new n(Object(o.a)(Object(o.a)({},this),{},{m:this.m-r,columns:this.columns-r,tableau:c,baseVariables:u,primalLabels:b,dualLabels:d,primalProgram:h}))}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(o.a)(Object(o.a)({},e),{},{addedOverall:0,initialN:e.n,initialM:e.m})).addGomoryCuts(t)}}]),n}(re),oe=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.initialN,r=e.addedOverall,s=Object(d.a)(e,["initialN","addedOverall"]);return Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},s),{},{addInfo:!1}))).initialN=i,a.addedOverall=r,a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return ie(this,!1,!1,!0)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ae(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:te(n,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=S(this.m+1).map((function(){return[]})),i=0,r=function(n){if(!e[n])return"continue";a=a.map((function(e,a){return 0===a?e.concat(t.tableau[a][n].sub(T(t.tableau[a][n]))):e.concat(t.tableau[a][n].sub(q(t.tableau[a][n])))})),i++},s=0;s<=this.columns;s++)r(s);var l=this.tableau.map((function(e,n){return e.slice(0,t.n).concat(a[n]).concat(e.slice(t.n))})),c=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(S(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,c,u);return new n(Object(o.a)(Object(o.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:c,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),a=Object(l.a)(t,2),i=a[0],r=a[1],s=this.tableau.map((function(t){return t.filter((function(t,n){return!e[n]}))})),c=this.baseVariables.map((function(e){return e-r[e]})),u=this.primalLabels.filter((function(t,n){return!e[n]})),b=X.fromTableau(this.n-i,this.m,s,c,u);return new n(Object(o.a)(Object(o.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:s,baseVariables:c,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(o.a)(Object(o.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),n}(re),ce=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.auxiliaryProgram,r=e.savedObjective,s=Object(d.a)(e,["auxiliaryProgram","savedObjective"]);return Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},s),{},{addInfo:!1}))).auxiliaryProgram=i,a.savedObjective=r,a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return this.primalFeasible&&this.dualFeasible?this.primalSolution[0].equals(v)?"The auxiliary LP is optimized and $x_0$ is equals to 0, so we can return to the original LP":"The auxiliary LP is optimized, but $x_0$ is not equal to 0, so the original LP is infeasible":0===this.iter?this.dualFeasible?"The primal solution is not feasible, pivot with $x_0$ as the entering variable and as the leaving the one with the lowest value in the current basic solution. Alternatively use the dual simplex algorithm.":"The primal solution is not feasible, pivot with $x_0$ as the entering variable and as the leaving the one with the lowest value in the current basic solution.":"Optimize the auxiliary LP to find a feasible basic solution to the initial LP or determine that it is infeasible"}},{key:"getFirstPivotRow",value:function(){for(var e=-1,t=v,n=1;n<=this.m;n++)N(this.tableau[n]).compare(t)<0&&(t=N(this.tableau[n]),e=n);return e}},{key:"calculatePivots",value:function(){var e=K(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=W(this.tableau),r=Object(l.a)(i,2),s=r[0],c=r[1];if(this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},n),s),0===this.iter){var u=this.getFirstPivotRow(),b=this.tableau.map((function(e,t){return e.map((function(e,n){return t===u&&0===n}))}));this.suggestedPivots=Object(o.a)(Object(o.a)({},this.suggestedPivots),{},{generic_primal:{pivots:b,description:"Generic pivot for primal simplex"},bland_primal:{pivots:b,description:"Bland's rule for primal simplex"}})}this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=c}},{key:"getPossibleTransitions",value:function(){var e=this;return this.primalFeasible&&this.dualFeasible&&this.primalSolution[0].equals(v)?[{label:"Return to initial LP",args:"none",getNewState:function(){return e.goBackToBasic()}}]:[]}},{key:"goBackToBasic",value:function(){var e=this.tableau.map((function(e){return e.slice(1)}));return e[0]=this.savedObjective,new se(Object(o.a)(Object(o.a)({},this),{},{tableau:e,n:this.n-1,columns:this.columns-1,primalLabels:this.primalLabels.slice(1),baseVariables:this.baseVariables.map((function(e){return e-1})),iter:this.outerIter+1}))}},{key:"calculatePrograms",value:function(){void 0!==this.auxiliaryProgram&&(this.programs=[{name:"Auxiliary LP",program:this.auxiliaryProgram},{name:"Dual auxiliary LP",program:this.auxiliaryProgram.setForm("dual")}],this.defaultProgram="Auxiliary LP")}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromBasicState",value:function(e){return new n(Object(o.a)(Object(o.a)({},e),{},{auxiliaryProgram:X.fromArrays(e.primalProgram.A.map((function(e){return Array.of(O).concat(e)})),e.primalProgram.b,Array.of(O).concat(S(e.primalProgram.c.length).map((function(){return v}))),"primal",Array.of("x_{0}").concat(e.primalLabels.slice(0,e.n))),tableau:e.tableau.map((function(t,n){return 0===n?S(e.columns+1).map((function(e){return 0===e?g:v})):Array.of(O).concat(t)})),n:e.n+1,columns:e.columns+1,primalLabels:Array.of("x_{0}").concat(e.primalLabels),baseVariables:e.baseVariables.map((function(e){return e+1})),savedObjective:e.tableau[0],iter:0}))}}]),n}(re),ue=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a=Object.assign({},e);return Object(f.a)(this,n),t.call(this,a)}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return this.primalFeasible?"A feasible primal solution has been found.":this.dualUnbounded?"The initial LP is primal infeasible.":"Use dual simplex method to find a feasible primal solution."}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,n){return 0===n?S(e.columns).map((function(){return v})):t})),n=K(t,this.isBase),a=Object(l.a)(n,2),i=a[0],r=a[1],s=W(t),c=Object(l.a)(s,2),u=c[0],b=c[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},i),u),this.primalUnbounded=r,this.dualUnbounded=b}},{key:"getPossibleTransitions",value:function(){var e=this;return this.primalFeasible?[{label:"Go back to the initial LP",args:"none",getNewState:function(){return new re(e)}}]:[]}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromBasic",value:function(e){return new n(Object(o.a)(Object(o.a)({},e),{},{primalProgram:new X(Object(o.a)(Object(o.a)({},e.primalProgram),{},{c:e.primalProgram.c.map((function(){return v}))}))}))}}]),n}(re),be=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).calculateDisabled(),a.hasBase=a.baseVariables.every((function(e,t){return-1!==e||a.disabledRows[t+1]})),a.infeasible=S(a.m,1).some((function(e){return S(a.n).every((function(t){return a.tableau[e][t].compare(v)<0||t===a.baseVariables[e-1]}))&&!N(a.tableau[e]).equals(v)&&!a.disabledRows[e]})),a.addInformation(),a}return Object(j.a)(n,[{key:"calculatePivots",value:function(){var e=Y(this.tableau);if(!this.hasBase||this.infeasible)this.suggestedPivots=Object(o.a)(Object(o.a)({none:e},J(this.tableau)),Z(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var t=K(this.tableau,this.isBase,!0,this.n),n=Object(l.a)(t,2),a=n[0],i=n[1],r=W(this.tableau,!0,this.n),s=Object(l.a)(r,2),c=s[0],u=s[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:e},a),c),this.defaultSuggestion="bland_primal",this.primalUnbounded=i,this.dualUnbounded=u}}},{key:"getStatusMessage",value:function(){return this.infeasible?"The primal LP is infeasible.":this.hasBase?ie(this,!1,!1,!0):0===this.iter?"Find a base by making pivots or following an algorithm.":"Find a base by making pivots."}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return N(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,this.n)),this.primalSolution=S(this.n).map((function(){return v}));for(var e=0;e<this.m;e++)-1!==this.baseVariables[e]&&this.baseVariables[e]<this.n&&(this.primalSolution[this.baseVariables[e]]=N(this.tableau[e+1]));this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.hasBase){if(this.primalFeasible&&this.dualFeasible&&!y(this.dualSolution)&&this.primalProgram.isIntegral())return[ae(this,(function(t){return me.getFirstCut(e,t)}))]}else if(0===this.iter)return[{label:"Find a base",args:"none",getNewState:function(){return de.getFromEqualityState(e)}}];return[]}},{key:"calculateDisabled",value:function(){var e=this;this.disabledColumns=S(this.columns).map((function(t){return t>=e.n&&t<e.columns-1})),this.disabledRows=S(this.m+1).map((function(t){return t>0&&S(e.n).every((function(n){return e.tableau[t][n].equals(v)}))&&N(e.tableau[t]).equals(v)}))}},{key:"canPivot",value:function(e,t){return!(t>=this.n||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(e){var t=[e.c.map((function(e){return e.neg()})).concat(S(e.m+1).map((function(){return v})))].concat(e.A.map((function(t,n){return t.concat(S(e.m).map((function(t){return t===n?e.b[n].compare(v)<0?O:g:v}))).concat(e.b[n])}))),a=S(e.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(S(e.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=S(e.m).map((function(e){return"y_{".concat(e+1,"}")})),r=S(e.m).map((function(){return-1}));return new n({tableau:t,n:e.n,m:e.m,columns:e.n+e.m+1,primalLabels:a,dualLabels:i,baseVariables:r,primalProgram:e.setForm("equality"),iter:0})}}]),n}(re),de=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.savedObjective,r=Object(d.a)(e,["savedObjective"]);if(Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},r),{},{addInfo:!1}))).savedObjective=i,a.baseVariables.some((function(e){return-1===e})))a.stage="base";else if(a.primalFeasible&&a.dualFeasible){var s=M(a.baseVariables,a.n+a.m);N(a.tableau[0]).compare(v)<0?a.stage="infeasible":S(a.m,a.n).some((function(e){return a.isBase[e]&&S(a.n).some((function(t){return!a.tableau[s[e]+1][t].equals(v)}))}))?a.stage="rebase":a.stage="done"}else a.stage="optimize";return a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return"base"===this.stage?"Make pivots with slack variables to establish a base.":"done"===this.stage?"The program is optimized. We can return to the initial program.":"optimize"===this.stage?"Optimize the LP using the simplex method.":"rebase"===this.stage?"Remove the slack variables from base where possible.":"infeasible"===this.stage?"The initial LP is infeasible.":""}},{key:"getPossibleTransitions",value:function(){var e=this;return"done"===this.stage&&0===N(this.tableau[0]).compare(v)?[{label:"Return to initial LP",args:"none",getNewState:function(){return e.goBack()}}]:[]}},{key:"goBack",value:function(){var e=this,t=this.tableau.map((function(t,n){return 0===n?e.savedObjective:t}));return new he(Object(o.a)(Object(o.a)({},this),{},{tableau:t}))}},{key:"calculatePivots",value:function(){if("optimize"!==this.stage)this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},J(this.tableau)),Z(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var e=K(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=W(this.tableau),r=Object(l.a)(i,2),s=r[0],c=r[1];this.suggestedPivots=Object(o.a)(Object(o.a)({none:Y(this.tableau)},n),s),this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=c}}},{key:"calculateDisabled",value:function(){this.disabledColumns=S(this.columns).map((function(){return!1})),this.disabledRows=S(this.m+1).map((function(){return!1}))}},{key:"canPivot",value:function(e,t){return"base"===this.stage?-1===this.baseVariables[e-1]&&e===t-this.n+1&&!this.isBase[t]:"optimize"===this.stage?!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t]):"rebase"===this.stage&&(!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])&&this.baseVariables[e-1]>=this.n&&t<this.n)}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{tableau:r,baseVariables:s,iter:this.iter+1}))}}],[{key:"getFromEqualityState",value:function(e){return new n(Object(o.a)(Object(o.a)({},e),{},{tableau:e.tableau.map((function(t,n){return 0===n?t.map((function(t,n){return n<e.n||n===e.columns-1?v:g})):t})),savedObjective:e.tableau[0]}))}}]),n}(be),he=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,Object(o.a)(Object(o.a)({},e),{},{addInfo:!1}))).baseFixed=a.baseVariables.every((function(e){return a.tableau[0][e].equals(v)})),a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return this.baseFixed?"The top row is fixed.":"Make pivots to represent the top row in the new base."}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(g)}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,n){return t.map((function(t,a){return e.canPivot(n,a)}))}));this.suggestedPivots={none:{pivots:t,description:"None"},generic_dual:{pivots:t,description:"Generic pivot for dual simplex"},bland_dual:{pivots:t,description:"Bland's rule for dual simplex"},generic_primal:{pivots:t,description:"Generic pivot for primal simplex"},bland_primal:{pivots:t,description:"Bland's rule for primal simplex"}},this.defaultSuggestion="bland_primal",this.primalUnbounded=!1,this.dualUnbounded=!1}},{key:"getPossibleTransitions",value:function(){var e=this;return this.baseFixed?[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:[]}},{key:"backToBasic",value:function(){return new be(Object(o.a)({},this))}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}]),n}(be),me=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.initialN,r=e.addedOverall,s=Object(d.a)(e,["initialN","addedOverall"]);return Object(f.a)(this,n),(a=t.call(this,s)).initialN=i,a.addedOverall=r,a.addInformation(),a}return Object(j.a)(n,[{key:"getStatusMessage",value:function(){return ie(this,!1,!1,!0)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ae(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:te(n,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=S(this.m+1).map((function(){return[]})),i=0,r=function(n){if(!e[n])return"continue";a=a.map((function(e,a){return 0===a?e.concat(t.tableau[a][n].sub(T(t.tableau[a][n]))):e.concat(t.tableau[a][n].sub(q(t.tableau[a][n])))})),i++},s=0;s<=this.columns;s++)r(s);var l=this.tableau.map((function(e,n){return e.slice(0,t.n).concat(a[n]).concat(e.slice(t.n))})),c=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(S(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,c,u).setForm("equality");return new n(Object(o.a)(Object(o.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:c,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),a=Object(l.a)(t,2),i=a[0],r=a[1],s=this.tableau.map((function(t){return t.filter((function(t,n){return!e[n]}))})),c=this.baseVariables.map((function(e){return e-r[e]})),u=this.primalLabels.filter((function(t,n){return!e[n]})),b=X.fromTableau(this.n-i,this.m,s,c,u);return new n(Object(o.a)(Object(o.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:s,baseVariables:c,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var a=$(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(o.a)(Object(o.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(o.a)(Object(o.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),n}(be),fe=(n(16),n(0));function je(e){var t=e.value,n=e.position,a=void 0===n?"inner":n,i=e.hidden,r=void 0!==i&&i,s=e.showInvariant,l=void 0!==s&&s,o=e.isBase,c=void 0!==o&&o,u=e.isCorner,d=void 0!==u&&u,h=e.isHighlighted,m=void 0!==h&&h,f=e.isDisabled,j=void 0!==f&&f,p=e.isSelected,g=void 0!==p&&p,O=e.isSelectable,x=void 0!==O&&O,y=e.isSecondarySelected,w=void 0!==y&&y,S=e.showPointer,k=void 0===S||S,P=e.showSelection,C=void 0!==P&&P,B=e.showDisabled,N=void 0===B||B,F=e.useDecimal,L=void 0===F||F,M=e.useMixed,I=void 0!==M&&M,A=e.onClick,_=void 0===A?function(e){return e}:A,V="inner"===a,q=t.compare(v)>=0,T=["tableau-cell","cell-".concat(a),l&&q&&!j?"invariant-holds":"",!l||q||j?"":"invariant-broken",k&&(!j&&V&&!C||C&&x)?"clickable-cell":"",r?"hidden-cell":"",d?"corner-cell":"",!c||!V&&l?"":"base-cell",m&&!C?"highlighted-cell":"",C&&g?"selected-cell":"",C&&!x?"not-selectable-cell":"",C&&w?"secondary-cell":"",N&&!C&&j?"disabled-cell":""].join(" ");return Object(fe.jsx)("td",{className:T,onClick:_,children:Object(fe.jsx)(b.InlineMath,{children:E(t,I,L)})})}function pe(e){var t=e.state,n=e.position,a=e.selection,i=e.showSelection,r=e.onCellClick,s=e.miscSettings;return Object(fe.jsx)(je,Object(o.a)({value:N(t.tableau[0]),position:n,isSelected:i&&z(0,t.columns-1,a),isSelectable:i&&G(0,t.columns-1,a),isSecondarySelected:i&&R(0,t.columns,a,t),onClick:function(){return r(0,t.columns-1)}},Object(o.a)(Object(o.a)({},s),{},{showSelection:i})))}function ve(e){var t=e.state,n=e.i,a=e.position,i=e.selection,r=e.showSelection,s=e.onCellClick,l=e.highlightInvariants,c=e.miscSettings;return Object(fe.jsx)(je,Object(o.a)({value:N(t.tableau[n]),position:a,showInvariant:l,isDisabled:t.disabledRows[n],isSelected:r&&z(n,t.columns-1,i),isSelectable:r&&G(n,t.columns-1,i),isSecondarySelected:r&&R(n,t.columns,i,t),onClick:function(){return s(n,t.columns-1)}},Object(o.a)(Object(o.a)({},c),{},{showSelection:r})))}function ge(e){var t=e.state,n=e.position,a=e.selection,i=e.showSelection,r=e.showBase,s=e.onCellClick,l=e.showBColumnsLeft,c=e.showSlackLeft,u=e.highlightBase,b=e.highlightInvariants,d=e.miscSettings;return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),l?pe({state:t,position:"".concat(n,"-left"),selection:a,onCellClick:s,showSelection:i,miscSettings:d}):null,c?S(t.m).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][t.n+e],position:n,showInvariant:b,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!r,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&u,isSelected:i&&z(0,t.n+e,a),isSelectable:i&&G(0,t.n+e,a),isSecondarySelected:i&&R(0,t.n,a,t),onClick:function(){return s(0,t.n+e)}},Object(o.a)(Object(o.a)({},d),{},{showSelection:i})),t.n+e)})):null,S(t.n).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][e],position:n,showInvariant:b,hidden:t.isBase[e]&&!t.disabledColumns[e]&&!r,isDisabled:t.disabledColumns[e],isBase:t.isBase[e]&&u,isSelected:i&&z(0,e,a),isSelectable:i&&G(0,e,a),isSecondarySelected:i&&R(0,0,a,t),onClick:function(){return s(0,e)}},Object(o.a)(Object(o.a)({},d),{},{showSelection:i})),e)})),c?null:S(t.m).map((function(e){return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[0][t.n+e],position:n,showInvariant:b,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!r,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&u,isSelected:i&&z(0,t.n+e,a),isSelectable:i&&G(0,t.n+e,a),isSecondarySelected:i&&R(0,t.n,a,t),onClick:function(){return s(0,t.n+e)}},Object(o.a)(Object(o.a)({},d),{},{showSelection:i})),e)})),l?null:pe({state:t,position:"".concat(n,"-right"),selection:a,onCellClick:s,showSelection:i,miscSettings:d})]})}function Oe(e){var t=e.state,n=e.i,a=e.j,i=e.highlightedPivots,r=e.showBase,s=e.highlightBase,l=e.selection,c=e.showSelection,u=e.onCellClick,b=e.miscSettings;return Object(fe.jsx)(je,Object(o.a)({value:t.tableau[n][a],hidden:t.isBase[a]&&!t.disabledColumns[a]&&!r,isBase:t.isBase[a]&&!t.disabledColumns[a]&&s,isHighlighted:t.suggestedPivots[i].pivots[n][a],isSelected:c&&z(n,a,l),isSelectable:c&&G(n,a,l),isSecondarySelected:c&&R(n,0,l,t),isDisabled:!t.canPivot(n,a),onClick:function(){return u(n,a)}},Object(o.a)(Object(o.a)({},b),{},{showSelection:c})),a)}function xe(e){var t=e.state,n=e.onCellClick,a=void 0===n?function(e){return e}:n,i=e.highlightedPivots,r=void 0===i?"none":i,s=e.highlightBase,l=void 0===s||s,o=e.highlightInvariants,c=void 0===o||o,u=e.useDecimal,d=void 0===u||u,h=e.useMixed,m=void 0!==h&&h,f=e.showBase,j=void 0===f||f,p=e.selection,v=void 0===p?null:p,g=e.showPointer,O=void 0===g||g,x=e.showDisabled,y=void 0!==x&&x,w=e.showObjectiveBottom,k=void 0!==w&&w,P=e.showBColumnsLeft,C=void 0!==P&&P,B=e.showSlackLeft,N=void 0!==B&&B,F=null!==v,L={useDecimal:d,useMixed:m,showPointer:O,showDisabled:y};return Object(fe.jsx)("div",{className:"tableau-box",children:Object(fe.jsx)("table",{className:"tableau-table",children:Object(fe.jsxs)("tbody",{children:[k?null:ge({state:t,position:"top",selection:v,showSelection:F,showBase:j,onCellClick:a,showBColumnsLeft:C,showSlackLeft:N,highlightBase:l,highlightInvariants:c,miscSettings:L}),S(t.m,1).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:0===e?"":t.baseVariables[e-1]<0||t.disabledColumns[t.baseVariables[e-1]]||t.disabledRows[e]?"-":t.primalLabels[t.baseVariables[e-1]]})}),C?ve({state:t,i:e,position:"left",selection:v,showSelection:F,showBase:j,onCellClick:a,highlightInvariants:c,miscSettings:L}):null,N?S(t.m,t.n).map((function(n){return Oe({state:t,i:e,j:n,highlightedPivots:r,showBase:j,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})):null,S(t.n).map((function(n){return Oe({state:t,i:e,j:n,highlightedPivots:r,showBase:j,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})),N?null:S(t.m,t.n).map((function(n){return Oe({state:t,i:e,j:n,highlightedPivots:r,showBase:j,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})),C?null:ve({state:t,i:e,position:"right",selection:v,showSelection:F,showBase:j,onCellClick:a,highlightInvariants:c,miscSettings:L})]},e)})),k?ge({state:t,position:"bottom",selection:v,showSelection:F,showBase:j,onCellClick:a,showBColumnsLeft:C,showSlackLeft:N,highlightBase:l,highlightInvariants:c,miscSettings:L}):null,Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),C?Object(fe.jsx)("td",{}):null,N?S(t.m).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})):null,S(t.n).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[e]})},e)})),N?null:S(t.m).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})),C?null:Object(fe.jsx)("td",{})]})]})})})}var ye=[{name:"Simple 1",program:X.fromArrays([[1,1,3],[2,2,5],[4,1,2]],[30,24,36],[3,1,2],"primal")},{name:"Simple 2",program:X.fromArrays([[1,1],[1,0],[0,1]],[20,12,16],[18,12.5],"primal")},{name:"Basic solution not feasible",program:X.fromArrays([[2,-1],[1,-5]],[2,-4],[2,-1],"primal")},{name:"Basic solution not feasible 2",program:X.fromArrays([[-2,"-7.5",3],[-20,-5,-3]],[-1e4,-3e4],[-1,-1,-1],"primal")},{name:"Infeasible",program:X.fromArrays([[-1,-1,0],[0,-1,-1],[1,2,1]],[-2,-3,4],[1,1,1],"primal")},{name:"Unbounded",program:X.fromArrays([[1,-1,1],[-2,1,0],[0,1,-2]],[5,3,5],[0,2,1],"primal")},{name:"Dual unbounded",program:X.fromArrays([[1,0],[3,2]],[1,-1],[-2,0],"dual")},{name:"Gomory cuts",program:X.fromArrays([[-1,1],[8,2]],[2,17],["5.5","2.1"],"primal")},{name:"Equality Form",program:X.fromArrays([[1,1,1],[2,2,5]],[5,16],[3,1,2],"equality")},{name:"Equality Form 2",program:X.fromArrays([[-1,-1,-1],[2,2,3]],[-8,16],[3,1,2],"equality")},{name:"Equality infeasible",program:X.fromArrays([[1,1,1],[2,2,5]],[12,16],[3,1,2],"equality")},{name:"Equality redundant row",program:X.fromArrays([[1,1],[2,3],[3,4]],[4,9,13],[1,1],"equality")},{name:"Equality redundant row 2",program:X.fromArrays([[1,1,1,3],[2,3,1,2],[3,4,2,5]],[4,9,13],[1,1,1,1],"equality")},{name:"Klee-Minty cube  D=4",program:X.fromArrays([[1,0,0,0],[4,1,0,0],[8,4,1,0],[16,8,4,1]],[5,25,125,625],[8,4,2,1],"primal")}];n(17),n(31);function we(e){return/^-?((\d+(\/[1-9]\d*)?)|(\d*\.\d+)|(\d+\.))$/.test(e)}function Se(e){var t=e.value,n=e.onChange,a=e.ending;return Object(fe.jsxs)("div",{className:"input-field",children:[Object(fe.jsx)("input",{className:we(t)?"correct-input":"wrong-input",value:t,onChange:function(e){return n(e.target.value)}}),Object(fe.jsx)("span",{className:"label",children:Object(fe.jsx)(b.InlineMath,{children:a})})]})}function ke(e){var t=e.examplesList,n=e.selected,a=e.onChange;function i(e){a(e,-1!==parseInt(e)?t[e].program:null)}return Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("label",{htmlFor:"example",children:"Example:"}),Object(fe.jsxs)("select",{id:"example",value:n,onChange:function(e){return i(e.target.value)},children:[Object(fe.jsx)("option",{value:-1,children:"Custom"}),t.map((function(e,t){return Object(fe.jsx)("option",{value:t,children:e.name},t)}))]})]})}function Pe(e){var t=e.onFinish,n=Object(a.useState)({program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}),r=Object(l.a)(n,2),s=r[0],c=r[1],d=function(e,t){var n=parseInt(e),a=parseInt(t);n=isNaN(n)?s.program.n:Math.max(Math.min(n,7),1),a=isNaN(a)?s.program.m:Math.max(Math.min(a,7),1),c(Object(o.a)(Object(o.a)({},s),{},{program:s.program.updateSize(n,a),fieldsA:I(s.fieldsA.map((function(e){return I(e,n,(function(){return"0"}))})),a,(function(){return S(n).map((function(e){return"0"}))})),fieldsB:I(s.fieldsB,a,(function(){return"0"})),fieldsC:I(s.fieldsC,n,(function(){return"0"})),fieldN:e,fieldM:t}))},h=function(){var e=parseInt(s.fieldN),t=parseInt(s.fieldM);e=isNaN(e)?s.program.n:Math.max(Math.min(e,7),1),t=isNaN(t)?s.program.m:Math.max(Math.min(t,7),1),d(e.toString(),t.toString())},m=function(e,t){c(Object(o.a)(Object(o.a)({},s),{},{program:s.program.updateB(e,we(t)?new u.a(t):v),fieldsB:_(s.fieldsB,e,t),selectedExample:-1}))},f=function(e,t){c(Object(o.a)(Object(o.a)({},s),{},{program:s.program.updateC(e,we(t)?new u.a(t):v),fieldsC:_(s.fieldsC,e,t),selectedExample:-1}))};console.log(s);var j=s.program.isDual(),p=s.program.isEquality();return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(ke,{examplesList:ye,selected:s.selectedExample,onChange:function(e,t){c(null===t?Object(o.a)(Object(o.a)({},s),{},{selectedExample:e}):Object(o.a)(Object(o.a)({},s),{},{program:t,fieldsA:t.A.map((function(e){return e.map((function(e){return e.toFraction()}))})),fieldsB:t.b.map((function(e){return e.toFraction()})),fieldsC:t.c.map((function(e){return e.toFraction()})),fieldN:t.n.toString(),fieldM:t.m.toString(),selectedExample:e}))}}),Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("label",{htmlFor:"n",children:"Variables:"}),Object(fe.jsx)("input",{type:"number",id:"n",min:"1",max:7,value:j?s.fieldM:s.fieldN,onChange:j?function(e){return d(s.fieldN,e.target.value)}:function(e){return d(e.target.value,s.fieldM)},onBlur:h,required:!0}),Object(fe.jsx)("label",{htmlFor:"m",children:p?"Equalities":"Inequalities:"}),Object(fe.jsx)("input",{type:"number",id:"m",min:"1",max:7,value:j?s.fieldN:s.fieldM,onChange:j?function(e){return d(e.target.value,s.fieldM)}:function(e){return d(s.fieldN,e.target.value)},onBlur:h,required:!0}),Object(fe.jsx)("label",{htmlFor:"form",children:"Form:"}),Object(fe.jsxs)("select",{id:"form",value:s.program.form,onChange:function(e){return t=e.target.value,void c(Object(o.a)(Object(o.a)({},s),{},{program:s.program.setForm(t),selectedExample:-1}));var t},children:[Object(fe.jsx)("option",{value:"primal",children:"Standard form"}),Object(fe.jsx)("option",{value:"dual",children:"Dual to standard form"}),Object(fe.jsx)("option",{value:"equality",children:"Equality form"}),Object(fe.jsx)("option",{value:"equality_dual",children:"Dual to equality form"})]})]}),Object(fe.jsxs)("div",{className:"input-row",children:[Object(fe.jsx)("button",{onClick:function(){return t(s.program)},children:"Finish"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},s),{},{program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}))},children:"Reset"})]}),Object(fe.jsx)("div",{style:{clear:"both"}}),Object(fe.jsx)("table",{id:"input-table",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{className:"min-max",children:Object(fe.jsx)(b.InlineMath,{children:j?"min":"max"})}),S(j?s.program.m:s.program.n).map((function(e){return Object(fe.jsxs)(i.a.Fragment,{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(Se,{value:j?s.fieldsB[e]:s.fieldsC[e],onChange:j?function(t){return m(e,t)}:function(t){return f(e,t)},ending:s.program.labels[e]})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:e!==(j?s.program.m:s.program.n)-1?"+":""})})]},e)}))]}),S(j?s.program.n:s.program.m).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),S(j?s.program.m:s.program.n).map((function(t){return Object(fe.jsxs)(i.a.Fragment,{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(Se,{value:j?s.fieldsA[t][e]:s.fieldsA[e][t],onChange:function(n){return function(e,t,n){c(Object(o.a)(Object(o.a)({},s),{},{program:s.program.updateA(e,t,we(n)?new u.a(n):v),fieldsA:A(s.fieldsA,e,t,n),selectedExample:-1}))}(j?t:e,j?e:t,n)},ending:s.program.labels[t]})},t),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t!==(j?s.program.m:s.program.n)-1?"+":j?"\\geq":p?"=":"\\leq"})})]},t)})),Object(fe.jsx)("td",{children:Object(fe.jsx)(Se,{value:j?s.fieldsC[e]:s.fieldsB[e],onChange:j?function(t){return f(e,t)}:function(t){return m(e,t)},ending:""},e)})]},e)})),p&&j?Object(fe.jsx)("tr",{children:Object(fe.jsx)("td",{})}):Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{colSpan:2*(j?s.program.m:s.program.n),className:"variable-list",children:Object(fe.jsx)(b.InlineMath,{children:s.program.labels.join(",")})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"\\geq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"0"})})]})]})}),Object(fe.jsx)(xe,{state:ee(s.program),showPointer:!1})]})}var Ce=n(13),Be=n(19),Ne=n.n(Be);n(33);function Fe(e){e.name,e.label;var t=e.children;return Object(fe.jsx)("div",{className:"pane",children:t})}function Le(e){var t=e.defaultChoice,n=e.chosen,a=e.setChosen,i=e.children,r=n,s=i.flat().filter((function(e){return null!==e}));return s.some((function(e){return e.props.name===n}))||(r=t,a(t)),Object(fe.jsxs)("div",{className:"multi-pane",children:[Object(fe.jsxs)("div",{className:"pane-list",children:[s.map((function(e,t){return Object(fe.jsx)("div",{className:"pane-button ".concat(r===e.props.name?"pane-button-selected":""),onClick:function(){return a(e.props.name)},children:e.props.label},t)})),Object(fe.jsx)("div",{style:{clear:"both"}})]}),s.map((function(e,t){return Object(fe.jsx)("div",{className:"".concat(r!==e.props.name?"pane-hidden":""),children:e},t)}))]})}function Me(e){var t=e.children;return Object(fe.jsxs)("div",{className:"split-pane",children:[Object(fe.jsx)("div",{className:"split",children:t[0]}),Object(fe.jsx)("div",{className:"split-border"}),Object(fe.jsx)("div",{className:"split",children:t[1]})]})}n(34);function Ie(e){var t=e.value,n=e.label,a=e.first,i=void 0!==a&&a,r=e.firstNonZero,s=void 0!==r&&r,l=e.lastInEmptyRow,o=void 0!==l&&l,c=e.useDecimal,u=void 0===c||c,d=e.useMixed,h=void 0===d||d;return i?Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:o?"0":t.equals(v)?"":t.equals(g)?n:t.equals(O)?"-".concat(n):"".concat(E(t.abs(),h,u)," ").concat(n)})}):Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("td",{className:"operator",children:Object(fe.jsx)(b.InlineMath,{children:t.equals(v)?"":t.compare(v)<0?"-":s?"":"+"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:o?"0":t.equals(v)?"":t.abs().equals(g)?n:"".concat(E(t.abs(),h,u)," ").concat(n)})})]})}function Ae(e){var t=e.program,n=e.useDecimal,a=e.useMixed;function i(e){return e.map((function(e){return!e.equals(v)})).indexOf(!0)}var r=t.isDual(),s=!r,l=t.isEquality(),o=s?S(t.m).map((function(e){return i(t.A[e])})):S(t.n).map((function(e){return i(S(t.m).map((function(n){return t.A[n][e]})))})),c=i(s?t.c:t.b);return Object(fe.jsx)("table",{className:"program-display",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:s?"max":"min"})}),S(s?t.n:t.m).map((function(e){return Object(fe.jsx)(Ie,{value:s?t.c[e]:t.b[e],first:0===e,label:t.labels[e],firstNonZero:e===c,lastInEmptyRow:e===(s?t.n:t.m)-1&&-1===c,useDecimal:n,useMixed:a},e)}))]}),S(s?t.m:t.n).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{}),S(s?t.n:t.m).map((function(i){return Object(fe.jsx)(Ie,{value:s?t.A[e][i]:t.A[i][e],first:0===i,label:t.labels[i],firstNonZero:i===o[e],lastInEmptyRow:i===(s?t.n:t.m)-1&&-1===o[e],useDecimal:n,useMixed:a},i)})),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:r?"\\geq":l?"=":"\\geq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(s?t.b[e]:t.c[e],a,n)})})]},e)})),"equality_dual"===t.form?null:Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{colSpan:s?2*t.n:2*t.m,children:Object(fe.jsx)(b.InlineMath,{children:t.labels.join(", ")})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"\\geq"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"0"})})]})]})})}function _e(e){var t=e.tableau,n=e.useDecimal,a=e.useMixed,i=S(t.columns-1).filter((function(e){return!t.isBase[e]}));return Object(fe.jsx)("table",{className:"program-display",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"z"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"="})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(t.tableau[0][t.columns-1],a,n)})}),i.map((function(e){return Object(fe.jsx)(Ie,{value:t.tableau[0][e].neg(),label:t.primalLabels[e],useDecimal:n,useMixed:a},e)}))]}),S(t.m).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.baseVariables[e]>=0?t.primalLabels[t.baseVariables[e]]:"0"})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:"="})}),Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:t.tableau[e+1][t.columns-1].toLatex()})}),i.map((function(i){return Object(fe.jsx)(Ie,{value:t.tableau[e+1][i].neg(),label:t.primalLabels[i],useDecimal:n,useMixed:a},i)}))]},e)}))]})})}function Ve(e){var t=e.title,n=e.labels,a=e.solution,i=e.toShow,r=void 0===i?a.length:i,s=e.feasible,l=e.useDecimal,o=void 0===l||l,c=e.useMixed,u=void 0!==c&&c;return Object(fe.jsxs)("div",{className:"solution",children:[Object(fe.jsxs)("div",{className:"solution-header",children:[t,s?Object(fe.jsx)("span",{colSpan:r,className:"highlight-pos",children:"Feasible"}):Object(fe.jsx)("span",{colSpan:r,className:"highlight-neg",children:"Infeasible"})]}),Object(fe.jsx)("div",{className:"inner",children:Object(fe.jsx)("table",{className:"solution-table",children:Object(fe.jsxs)("tbody",{children:[Object(fe.jsx)("tr",{children:S(r).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:n[e]})},e)}))}),Object(fe.jsx)("tr",{children:S(r).map((function(e){return Object(fe.jsx)("td",{children:Object(fe.jsx)(b.InlineMath,{children:E(a[e],u,o)})},e)}))})]})})})]})}function qe(e){var t=e.name,n=(e.description,e.currentValue),a=e.options,i=e.onChange;return Object(fe.jsx)("div",{className:"setting",children:Object(fe.jsx)("select",{className:"setting-select",name:t,value:n,onChange:function(e){return i(e.target.value)},children:a.map((function(e,t){return Object(fe.jsx)("option",{value:e.value,children:e.label},t)}))})})}function Te(e){var t=e.name,n=e.description,a=e.currentValue,i=e.onChange,r=e.color;return Object(fe.jsxs)("div",{className:"setting",children:[Object(fe.jsx)("div",{className:"switch",children:Object(fe.jsx)(Ne.a,{id:t,height:25,width:50,onChange:function(e){return i(e)},onColor:r,checked:a})}),Object(fe.jsx)("label",{htmlFor:t,className:"description",children:n})]})}function De(e){var t=e.settings,n=e.setSetting,a=e.availablePivots;return Object(fe.jsxs)("div",{id:"settings",children:[Object(fe.jsxs)("div",{className:"setting-pivot",children:[Object(fe.jsx)("div",{className:"header",children:"Suggested Pivots"}),Object(fe.jsx)(qe,{name:"highlighted_pivot",description:"Suggested",currentValue:t.highlightedPivots,options:Object.entries(a).map((function(e){return{value:e[0],label:e[1].description}})),onChange:function(e){return n("highlightedPivots",e)}})]}),Object(fe.jsxs)("div",{className:"setting-base",children:[Object(fe.jsx)("div",{className:"header",children:"Base columns"}),Object(fe.jsx)(Te,{name:"highlight_base",color:"#88c5ff",description:"Highlight base columns",currentValue:t.highlightBase,onChange:function(e){return n("highlightBase",e)}}),Object(fe.jsx)(Te,{name:"show_base",color:"#88c5ff",description:"Show base columns",currentValue:t.showBase,onChange:function(e){return n("showBase",e)}})]}),Object(fe.jsxs)("div",{className:"setting-other",children:[Object(fe.jsx)("div",{className:"header",children:"Other settings"}),Object(fe.jsx)(Te,{name:"highlight_invariants",color:"#6cd875",description:"Highlight invariants",currentValue:t.highlightInvariants,onChange:function(e){return n("highlightInvariants",e)}}),Object(fe.jsx)(Te,{name:"use_decimal",color:"#6cd875",description:"Use decimal fractions",currentValue:t.useDecimal,onChange:function(e){return n("useDecimal",e)}}),Object(fe.jsx)(Te,{name:"use_mixed",color:"#6cd875",description:"Use mixed fractions",currentValue:t.useMixed,onChange:function(e){return n("useMixed",e)}}),Object(fe.jsx)(Te,{name:"show_disabled",color:"#6cd875",description:"Darken cells where pivot cannot be done",currentValue:t.showDisabled,onChange:function(e){return n("showDisabled",e)}}),Object(fe.jsx)(Te,{name:"objective_at_bottom",color:"#6cd875",description:"Display objective function row at the bottom",currentValue:t.showObjectiveBottom,onChange:function(e){return n("showObjectiveBottom",e)}}),Object(fe.jsx)(Te,{name:"b_column_on_left",color:"#6cd875",description:"Display the b column on the left",currentValue:t.showBColumnsLeft,onChange:function(e){return n("showBColumnsLeft",e)}}),Object(fe.jsx)(Te,{name:"slack_on_left",color:"#6cd875",description:"Display the slack variables on the left",currentValue:t.showSlackLeft,onChange:function(e){return n("showSlackLeft",e)}})]})]})}function Ue(e){var t=e.initialProgram,n=e.onStartOver,i=Object(a.useState)({stateHistory:[ee(t)],index:0,settings:{highlightedPivots:"bland_primal",highlightBase:!0,showBase:!0,highlightInvariants:!0,useDecimal:!0,useMixed:!1,showDisabled:!0,showObjectiveBottom:!1,showBColumnsLeft:!1,showSlackLeft:!1},selectedProgram:null,currentTransition:null}),r=Object(l.a)(i,2),s=r[0],c=r[1],u=s.stateHistory[s.index],d=s.settings.highlightedPivots;function h(e){c(Object(o.a)(Object(o.a)({},s),{},{stateHistory:s.stateHistory.slice(0,s.index+1).concat(e),index:s.index+1,currentTransition:null}))}function m(e,t){c(Object(o.a)(Object(o.a)({},s),{},{settings:Object(o.a)(Object(o.a)({},s.settings),{},Object(Ce.a)({},e,t))}))}return d in u.suggestedPivots||(d=u.defaultSuggestion,m("highlightedPivots",u.defaultSuggestion)),Object(fe.jsxs)("div",{id:"inner-wrapper",children:[Object(fe.jsxs)("div",{id:"tab-and-controls",children:[Object(fe.jsxs)("div",{id:"controls",children:[Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},s),{},{index:s.index-1,currentTransition:null}))},disabled:0===s.index,children:"Previous"}),Object(fe.jsx)("span",{id:"counter",children:"".concat(s.index+1," / ").concat(s.stateHistory.length)}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},s),{},{index:s.index+1,currentTransition:null}))},disabled:s.index===s.stateHistory.length-1,children:"Next"})]}),Object(fe.jsx)(xe,Object(o.a)(Object(o.a)({state:u,onCellClick:function(e,t){null===s.currentTransition?u.canPivot(e,t)&&h(u.pivot(e,t)):G(e,t,s.currentTransition.selection)&&c(Object(o.a)(Object(o.a)({},s),{},{currentTransition:Object(o.a)(Object(o.a)({},s.currentTransition),{},{selection:H(e,t,s.currentTransition.selection)})}))},showDisabled:!0,selection:null===s.currentTransition?null:s.currentTransition.selection},s.settings),{},{highlightedPivots:d})),Object(fe.jsx)("div",{id:"message",children:null===s.currentTransition?Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("p",{children:u.getStatusMessage().split("$").map((function(e,t){return t%2===0?e:Object(fe.jsx)(b.InlineMath,{children:e})}))}),u.transitions.map((function(e,t){return Object(fe.jsx)("button",{className:"inline-button",onClick:function(){return function(e){"none"===e.args?h(e.getNewState()):c(Object(o.a)(Object(o.a)({},s),{},{currentTransition:{getNewState:e.getNewState,validateArgs:e.validateArgs,prompt:e.prompt,selection:{type:e.args,selected:k(e.defaultSelection),allowed:e.allowed},errorMessage:null}}))}(e)},children:e.label},t)}))]}):Object(fe.jsxs)(fe.Fragment,{children:[s.currentTransition.prompt,Object(fe.jsx)("button",{onClick:function(){var e=s.currentTransition.selection.selected,t=s.currentTransition.validateArgs(e),n=Object(l.a)(t,2),a=n[0],i=n[1];a?h(s.currentTransition.getNewState(e)):c(Object(o.a)(Object(o.a)({},s),{},{currentTransition:Object(o.a)(Object(o.a)({},s.currentTransition),{},{errorMessage:i})}))},className:"inline-button",children:"Done"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},s),{},{currentTransition:Object(o.a)(Object(o.a)({},s.currentTransition),{},{selection:Object(o.a)(Object(o.a)({},s.currentTransition.selection),{},{selected:k(s.currentTransition.selection.allowed)})})}))},className:"inline-button",children:"Select All"}),Object(fe.jsx)("button",{onClick:function(){c(Object(o.a)(Object(o.a)({},s),{},{currentTransition:null}))},className:"inline-button",children:"Cancel"}),null===s.currentTransition.errorMessage?null:Object(fe.jsx)("p",{className:"highlight-neg",children:s.currentTransition.errorMessage})]})})]}),Object(fe.jsxs)("div",{id:"sidebar",children:[Object(fe.jsx)(De,{settings:Object(o.a)(Object(o.a)({},s.settings),{},{highlightedPivots:d}),availablePivots:u.suggestedPivots,setSetting:m}),Object(fe.jsx)("button",{onClick:n,id:"start-over",children:"Start over with a new program"})]}),Object(fe.jsxs)(Me,{children:[Object(fe.jsx)(Ve,Object(o.a)({title:"Primal solution",labels:u.primalLabels,solution:u.primalSolution,feasible:u.primalFeasible},s.settings)),Object(fe.jsx)(Ve,Object(o.a)({title:"Dual solution",labels:u.dualLabels,solution:u.dualSolution,feasible:u.dualFeasible},s.settings))]}),Object(fe.jsxs)(Le,{defaultChoice:u.defaultProgram,chosen:s.selectedProgram,setChosen:function(e){return c(Object(o.a)(Object(o.a)({},s),{},{selectedProgram:e}))},children:[u.programs.map((function(e,t){var n=e.name,a=e.program;return Object(fe.jsx)(Fe,{name:n,label:n,children:Object(fe.jsx)(Ae,Object(o.a)({program:a},s.settings))},t)})),u.isEquality?null:Object(fe.jsx)(Fe,{name:"slack",label:"Slack Form",children:Object(fe.jsx)(_e,Object(o.a)({tableau:u},s.settings))})]})]})}var Ee=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1];return null===n?Object(fe.jsx)("div",{id:"wrapper",children:Object(fe.jsx)(Pe,{onFinish:function(e){return i(e)}})}):Object(fe.jsx)("div",{id:"wrapper",children:Object(fe.jsx)(Ue,{initialProgram:n,onStartOver:function(){return i(null)}})})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(fe.jsx)(i.a.StrictMode,{children:Object(fe.jsx)(Ee,{})}),document.getElementById("root")),Ge()}},[[35,1,2]]]);
//# sourceMappingURL=main.9918212c.chunk.js.map