(this["webpackJsonppraca-licencjacka"]=this["webpackJsonppraca-licencjacka"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),r=n(18),s=n.n(r),l=(n(24),n(3)),c=(n(25),n(1)),o=n(7),u=n.n(o),b=n(2),h=n(10),d=n(9),m=n(8),j=n(5),f=n(6),p=n(14),v=new u.a("0"),O=new u.a("1"),g=new u.a("-1"),x=function(e){return e.divisible(O)},y=function(e){return e.every((function(e){return x(e)}))},w=function(e){return e.every((function(e){return e.compare(v)>=0}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(p.a)(Array(e).keys()).map((function(e){return e+t}))},k=function(e){return Object(p.a)(e)},C=function(e){return e.map((function(e){return k(e)}))},P=function(e,t){return e.map((function(e,n){return e.add(t[n])}))},B=function(e,t){return e.map((function(e){return e.mul(t)}))},N=function(e){return e[e.length-1]},F=function(e){return e.reduce((function(e,t){var n=Object(l.a)(e,2),a=n[0],i=n[1];return a=t?a+1:a,i.push(a),[a,i]}),[0,[]])},L=function(e,t){return e.reduce((function(e,t){return t>=0&&(e[t]=!0),e}),S(t).map((function(){return!1})))},M=function(e,t){return e.reduce((function(e,t,n){return t>=0&&(e[t]=n),e}),S(t).map((function(){return-1})))},I=function(e,t,n){return e.length>=t?e.slice(0,t):k(e).concat(S(t-e.length).map((function(e){return n()})))},A=function(e,t,n,a){var i=C(e);return i[t][n]=a,i},V=function(e,t,n){var a=k(e);return a[t]=n,a},q=function(e,t){return e.mod(t).add(t).mod(t)},T=function(e){return e.sub(q(e,O))},_=function(e){return e.add(q(O.sub(q(e,O)),O))},D=function(e,t){for(var n=0,a=1;t%e===0;)a*=e,t/=e,n++;return[n,a]},U=function(e){var t=e.d,n=D(2,t),a=Object(l.a)(n,2),i=a[0],r=a[1],s=D(5,t),c=Object(l.a)(s,2),o=c[0];if(t/(r*c[1])!==1)return null;for(var u=e.n;i<o;)i++,u*=2;for(;o<i;)o++,u*=5;var b=u.toString().padStart(i+1,"0");return(-1===e.s?"-":"")+(0===i?b:"".concat(b.slice(0,-i),".").concat(b.slice(-i)))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var a=U(e);if(null!==a)return a}return e.toLatex(t)};function G(e,t,n){switch(n.type){case"rows":return n.allowed[e];case"columns":case"base_columns":return n.allowed[t];case"cells":return n.allowed[e][t];default:return!1}}function z(e,t,n){switch(n.type){case"rows":return n.selected[e];case"columns":case"base_columns":return n.selected[t];case"cells":return n.selected[e][t];default:return!1}}function R(e,t,n,a){return"base_columns"===n.type&&e>0&&n.selected[a.baseVariables[e-1]]}function H(e,t,n){return function(e,t,n,a){switch(n.type){case"rows":return Object(c.a)(Object(c.a)({},n),{},{selected:V(n.selected,e,a)});case"columns":case"base_columns":return Object(c.a)(Object(c.a)({},n),{},{selected:V(n.selected,t,a)});case"cells":return Object(c.a)(Object(c.a)({},n),{},{selected:A(n.selected,e,t,a)});default:return Object(c.a)({},n)}}(e,t,n,!z(e,t,n))}function Y(e,t,n,a){var i=C(e);i[n]=B(i[n],i[n][a].inverse());for(var r=0;r<i.length;r++)r!==n&&(i[r]=P(i[r],B(i[n],i[r][a].neg())));var s=k(t);return s[n-1]=a,[i,s]}function Z(e){return{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"None"}}function J(e){return{generic_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for primal simplex"},bland_primal:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for primal simplex"}}}function W(e){return{generic_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Generic pivot for dual simplex"},bland_dual:{pivots:e.map((function(e){return e.map((function(){return!1}))})),description:"Bland's rule for dual simplex"}}}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=J(e);if(!e.slice(1).every((function(e){return N(e).compare(v)>=0})))return[i,!1];for(var r=!1,s=!1,l=0;l<e[0].length-1;l++)if(!(t[l]||e[0][l].compare(v)>=0)){for(var c=null,o=null,u=1;u<e.length;u++)e[u][l].compare(v)<=0||(null===c||c.compare(N(e[u]).div(e[u][l]))>0)&&(c=N(e[u]).div(e[u][l]),o=u);if(null!==c){for(var b=1;b<e.length;b++)e[b][l].compare(v)<=0||c.equals(N(e[b]).div(e[b][l]))&&(i.generic_primal.pivots[b][l]=!0);r||(r=!0,i.bland_primal.pivots[o][l]=!0)}else s=!0}return n&&(i.generic_primal.pivots=i.generic_primal.pivots.map((function(e){return e.map((function(e,t){return t<a&&e}))})),i.bland_primal.pivots=i.bland_primal.pivots.map((function(e){return e.map((function(e,t){return t<a&&e}))}))),[i,s]}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=W(e);if(!e[0].slice(0,-1).every((function(e){return e.compare(v)>=0})))return[a,!1];for(var i=!1,r=!1,s=1;s<e.length;s++)if(!(N(e[s]).compare(0)>=0)){for(var l=null,c=null,o=0;o<e[s].length-1;o++)if(!(e[s][o].compare(v)>=0)){var u=e[0][o].div(e[s][o]).abs();(null===l||u.compare(l)<0)&&(l=u,c=o)}if(null!==l){for(var b=0;b<e[s].length-1;b++)e[s][b].compare(v)>=0||l.equals(e[0][b].div(e[s][b]).abs())&&(a.generic_dual.pivots[s][b]=!0);i||(i=!0,a.bland_dual.pivots[s][c]=!0)}else r=!0}return t&&(a.generic_dual.pivots=a.generic_dual.pivots.map((function(e){return e.map((function(e,t){return t<n&&e}))})),a.bland_dual.pivots=a.bland_dual.pivots.map((function(e){return e.map((function(e,t){return t<n&&e}))}))),[a,r]}var Q=function(){return v},X=function(){function e(t){var n=t.n,a=t.m,i=t.A,r=t.b,s=t.c,l=t.form,c=t.labels,o=void 0===c?null:c;Object(j.a)(this,e),this.n=n,this.m=a,this.A=i,this.b=r,this.c=s,this.form=l,this.labels=null!==o?o:"primal"===l||"equality"===l?S(n).map((function(e){return"x_{".concat(e+1,"}")})):S(a).map((function(e){return"y_{".concat(e+1,"}")}))}return Object(f.a)(e,[{key:"isDual",value:function(){return"dual"===this.form||"equality_dual"===this.form}},{key:"isEquality",value:function(){return"equality"===this.form||"equality_dual"===this.form}},{key:"copy",value:function(){return new e(Object(c.a)(Object(c.a)({},this),{},{A:C(this.A),b:k(this.b),c:k(this.c)}))}},{key:"updateSize",value:function(t,n){var a,i=I(this.A.map((function(e){return I(e,t,Q)})),n,(a=t,function(){return S(a).map((function(){return v}))})),r=I(this.b,n,Q),s=I(this.c,t,Q);return new e({n:t,m:n,A:i,b:r,c:s,form:this.form})}},{key:"updateA",value:function(t,n,a){return new e(Object(c.a)(Object(c.a)({},this),{},{A:A(this.A,t,n,a)}))}},{key:"updateB",value:function(t,n){return new e(Object(c.a)(Object(c.a)({},this),{},{b:V(this.b,t,n)}))}},{key:"updateC",value:function(t,n){return new e(Object(c.a)(Object(c.a)({},this),{},{c:V(this.c,t,n)}))}},{key:"setForm",value:function(t){return new e(Object(c.a)(Object(c.a)({},this),{},{form:t,labels:null}))}},{key:"setLabels",value:function(t){return new e(Object(c.a)(Object(c.a)({},this),{},{labels:t}))}},{key:"isIntegral",value:function(){return this.A.every((function(e){return y(e)}))&&y(this.b)&&y(this.c)}}],[{key:"zeroProgram",value:function(t,n){return new e({n:t,m:n,A:S(n).map((function(){return S(t).map((function(){return v}))})),b:S(n).map((function(){return v})),c:S(t).map((function(){return v})),form:"primal"})}},{key:"fromArrays",value:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"primal",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new e({n:a.length,m:n.length,A:t.map((function(e){return e.map((function(e){return u()(e)}))})),b:n.map((function(e){return u()(e)})),c:a.map((function(e){return u()(e)})),form:i,labels:r})}},{key:"fromTableau",value:function(t,n,a,i,r){for(var s=L(i,t+n),c=0;c<n;c++)if(!s[t+c])for(var o=1;o<=n;o++)if(!a[o][t+c].equals(v)&&i[o-1]<t){var u=Y(a,i,o,t+c),b=Object(l.a)(u,2);a=b[0],i=b[1],s=L(i,t+n);break}var h=M(i,t+n);return a=[a[0]].concat(S(n).map((function(e){return a[h[t+e]+1]}))),new e({n:t,m:n,A:S(n).map((function(e){return S(t).map((function(t){return a[e+1][t]}))})),b:S(n).map((function(e){return N(a[e+1])})),c:S(t).map((function(e){return a[0][e].neg()})),form:"primal",labels:r.slice(0,t)})}}]),e}(),ee=n(0);function te(e){return"equality"===e.form||"equality_dual"===e.form?he.getFromProgram(e):se.getFromProgram(e)}function ne(e,t,n){return function(a){return Array.isArray(a)&&a.every((function(e){return"boolean"===typeof e}))?a.every((function(t,n){return!t||e[n]}))?a.includes(!0)?[!0,null]:[!1,"At least one ".concat(t," must be selected.")]:[!1,n]:[!1,"Argument must be an array of booleans"]}}function ae(e,t){var n=S(e.m+1).map((function(t){return!x(N(e.tableau[t]))}));return{label:"Add Gomory cuts for primal LP",args:"rows",prompt:"Select rows to use in making cuts",allowed:n,defaultSelection:S(e.m+1).map((function(){return!1})),validateArgs:ne(n,"row","Only rows with non integer value in the last column can be used."),getNewState:t}}function ie(e,t){var n=S(e.columns).map((function(t){return!x(e.tableau[0][t])}));return{label:"Add Gomory cuts for dual LP",args:"columns",prompt:"Select columns to use in making cuts",allowed:n,defaultSelection:S(e.columns).map((function(){return!1})),validateArgs:ne(n,"column","Only columns with non integer value in the first row can be used."),getNewState:t}}function re(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.primalUnbounded)return Object(ee.jsx)("p",{children:"The primal LP is unbounded."});if(e.dualUnbounded)return Object(ee.jsx)("p",{children:"The dual LP is unbounded."});if(0===e.iter&&!e.primalFeasible&&t)return e.dualFeasible?Object(ee.jsx)("p",{children:"Use the dual simplex method. Alternatively use an auxiliary LP or Farkas lemma to find a feasible primal solution"}):Object(ee.jsx)("p",{children:"Use an auxiliary LP or Farkas lemma to find a feasible primal solution"});if(e.primalFeasible&&e.dualFeasible){var i=!y(e.primalSolution)&&n,r=!y(e.dualSolution)&&e.primalProgram.isIntegral()&&a;return i&&r?Object(ee.jsx)("p",{children:"The LP is optimized, but the primal and dual solutions aren't integral. You can use Gomory cuts to look for integral solutions."}):i?Object(ee.jsx)("p",{children:"The LP is optimized, but the primal solution isn't integral. You can use Gomory cuts to look for an integral solution."}):r?Object(ee.jsx)("p",{children:"The LP is optimized, but the dual solution isn't integral. You can use Gomory cuts to look for an integral solution."}):Object(ee.jsx)("p",{children:"An optimal solution has been reached."})}return e.primalFeasible?Object(ee.jsx)("p",{children:"Use the primal simplex method to optimize the LP."}):e.dualFeasible?Object(ee.jsx)("p",{children:"Use the dual simplex method to optimize the LP."}):Object(ee.jsx)("p",{})}var se=function(){function e(t){var n=t.tableau,a=t.n,i=t.m,r=t.primalLabels,s=t.dualLabels,l=t.baseVariables,c=t.primalProgram,o=t.iter,u=t.columns,b=t.addInfo,h=void 0===b||b;Object(j.a)(this,e),this.tableau=n,this.n=a,this.m=i,this.columns=u,this.primalLabels=r,this.dualLabels=s,this.baseVariables=l,this.primalProgram=c,this.dualProgram=c.setForm("primal"===c.form?"dual":"equality_dual").setLabels(this.dualLabels),this.iter=o,h&&this.addInformation()}return Object(f.a)(e,[{key:"getStatusMessage",value:function(){return re(this)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(0===this.iter&&!this.primalFeasible)return[{label:"Make an auxiliary LP",args:"none",getNewState:function(){return ue.getFromBasicState(e)}},{label:"Use Farkas Lemma",args:"none",getNewState:function(){return be.getFromBasic(e)}}];if(this.primalFeasible&&this.dualFeasible){var t=[];return y(this.primalSolution)||t.push(ae(this,(function(t){return ce.getFirstCut(e,t)}))),!y(this.dualSolution)&&this.primalProgram.isIntegral()&&t.push(ie(this,(function(t){return oe.getFirstCut(e,t)}))),t}return[]}},{key:"addInformation",value:function(){this.isBase=L(this.baseVariables,this.columns-1),this.calculateSolutions(),this.calculatePivots(),this.calculatePrograms(),this.calculateDisabledColumns(),this.transitions=this.getPossibleTransitions()}},{key:"calculatePivots",value:function(){var e=$(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=K(this.tableau),r=Object(l.a)(i,2),s=r[0],o=r[1];this.suggestedPivots=Object(c.a)(Object(c.a)({none:Z(this.tableau)},n),s),this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=o}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return N(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,-1)),this.primalSolution=S(this.columns-1).map((function(){return v}));for(var e=0;e<this.m;e++)this.primalSolution[this.baseVariables[e]]=N(this.tableau[e+1]);if(!this.primalProgram.equalityForm){this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}}},{key:"calculatePrograms",value:function(){this.programs=[{name:"Primal LP",program:this.primalProgram},{name:"Dual LP",program:this.dualProgram}],this.defaultProgram="Primal LP"}},{key:"calculateDisabledColumns",value:function(){this.disabledColumns=S(this.columns).map((function(){return!1})),this.disabledRows=this.tableau.map((function(){return!1}))}},{key:"canPivot",value:function(e,t){return!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(t,n){var a=Y(this.tableau,this.baseVariables,t,n),i=Object(l.a)(a,2),r=i[0],s=i[1];return new e(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(t){var n=[t.c.map((function(e){return e.neg()})).concat(S(t.m+1).map((function(){return v})))].concat(t.A.map((function(e,n){return e.concat(S(t.m).map((function(e){return e===n?O:v}))).concat(t.b[n])}))),a=S(t.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(S(t.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=S(t.m).map((function(e){return"y_{".concat(e+1,"}")})),r=S(t.m).map((function(e){return t.n+e}));return new e({tableau:n,n:t.n,m:t.m,columns:t.n+t.m+1,primalLabels:a,dualLabels:i,baseVariables:r,primalProgram:"dual"===t.form?t.setForm("primal"):t,iter:0})}}]),e}(),le=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},e),{},{addInfo:!1}))).baseFixed=a.baseVariables.every((function(e){return a.tableau[0][e].equals(v)})),a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return this.baseFixed?Object(ee.jsx)("p",{children:"The top row is fixed."}):Object(ee.jsx)("p",{children:"Make pivots to represent the top row in the new base."})}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(O)}},{key:"getPossibleTransitions",value:function(){var e=this;return this.baseFixed?[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:[]}},{key:"backToBasic",value:function(){return new se(Object(c.a)({},this))}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}]),n}(se),ce=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.addedOverall,r=e.initialN,s=e.initialM,l=Object(h.a)(e,["addedOverall","initialN","initialM"]);return Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},l),{},{addInfo:!1}))).addedOverall=i,a.initialN=r,a.initialM=s,a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return re(this,!1,!0,!1)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.primalSolution)){t.push(ae(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN+e.initialM&&t<e.columns-1&&e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"base_columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:ne(n,"column","Only columns added with Gomory cuts that are currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=C(this.tableau),i=k(this.baseVariables),r=0,s=function(n){if(!e[n])return"continue";var s=t.tableau[0].length+r,l=a,c=S(s+1).map((function(e){return e===s?l[n][s-1].sub(T(l[n][s-1])).neg():e===s-1?O:l[n][e].sub(T(l[n][e])).neg()}));a=l.map((function(e){return e.slice(0,s-1).concat(v,e[s-1])})).concat([c]),i.push(s-1),r++},l=0;l<=this.m;l++)s(l);var o=this.primalLabels.concat(S(r).map((function(e){return"s_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),u=this.dualLabels.concat(S(r).map((function(e){return"y_{".concat(t.initialM+t.addedOverall+e+1,"}")}))),b=X.fromTableau(this.n,this.m+r,a,i,o);return new n(Object(c.a)(Object(c.a)({},this),{},{m:this.m+r,columns:this.columns+r,tableau:a,baseVariables:i,primalLabels:o,dualLabels:u,primalProgram:b,iter:this.iter+1,addedOverall:this.addedOverall+r}))}},{key:"removeExtraColumns",value:function(e){var t=this,a=F(e),i=Object(l.a)(a,2),r=i[0],s=i[1],o=this.tableau.filter((function(n,a){return 0===a||!e[t.baseVariables[a-1]]})).map((function(t){return t.filter((function(t,n){return!e[n]}))})),u=this.baseVariables.filter((function(t){return!e[t]})).map((function(e){return e-s[e]})),b=this.primalLabels.filter((function(t,n){return!e[n]})),h=this.dualLabels.filter((function(n,a){return!e[a+t.n]})),d=X.fromTableau(this.n,this.m-r,o,u,b);return new n(Object(c.a)(Object(c.a)({},this),{},{m:this.m-r,columns:this.columns-r,tableau:o,baseVariables:u,primalLabels:b,dualLabels:h,primalProgram:d}))}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(c.a)(Object(c.a)({},e),{},{addedOverall:0,initialN:e.n,initialM:e.m})).addGomoryCuts(t)}}]),n}(se),oe=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.initialN,r=e.addedOverall,s=Object(h.a)(e,["initialN","addedOverall"]);return Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},s),{},{addInfo:!1}))).initialN=i,a.addedOverall=r,a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return re(this,!1,!1,!0)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ie(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:ne(n,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=S(this.m+1).map((function(){return[]})),i=0,r=function(n){if(!e[n])return"continue";a=a.map((function(e,a){return 0===a?e.concat(t.tableau[a][n].sub(_(t.tableau[a][n]))):e.concat(t.tableau[a][n].sub(T(t.tableau[a][n])))})),i++},s=0;s<=this.columns;s++)r(s);var l=this.tableau.map((function(e,n){return e.slice(0,t.n).concat(a[n]).concat(e.slice(t.n))})),o=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(S(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,o,u);return new n(Object(c.a)(Object(c.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:o,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),a=Object(l.a)(t,2),i=a[0],r=a[1],s=this.tableau.map((function(t){return t.filter((function(t,n){return!e[n]}))})),o=this.baseVariables.map((function(e){return e-r[e]})),u=this.primalLabels.filter((function(t,n){return!e[n]})),b=X.fromTableau(this.n-i,this.m,s,o,u);return new n(Object(c.a)(Object(c.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:s,baseVariables:o,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(c.a)(Object(c.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),n}(se),ue=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.auxiliaryProgram,r=e.savedObjective,s=Object(h.a)(e,["auxiliaryProgram","savedObjective"]);return Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},s),{},{addInfo:!1}))).auxiliaryProgram=i,a.savedObjective=r,a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return this.primalFeasible&&this.dualFeasible?this.primalSolution[0].equals(v)?Object(ee.jsxs)("p",{children:["The auxiliary LP is optimized and ",Object(ee.jsx)(b.InlineMath,{children:"x_0"}),"equals to 0, so we can return to the original LP"]}):Object(ee.jsxs)("p",{children:["The auxiliary LP is optimized, but ",Object(ee.jsx)(b.InlineMath,{children:"x_0"}),"is not equal to 0, so the original LP is infeasible"]}):0===this.iter?this.dualFeasible?Object(ee.jsxs)("p",{children:["The primal solution is not feasible, pivot with ",Object(ee.jsx)(b.InlineMath,{children:"x_0"})," as the entering variable and as the leaving the one with the lowest value in the current basic solution. Alternatively use the dual simplex algorithm."]}):Object(ee.jsxs)("p",{children:["The primal solution is not feasible, pivot with ",Object(ee.jsx)(b.InlineMath,{children:"x_0"})," as the entering variable and as the leaving the one with the lowest value in the current basic solution."]}):Object(ee.jsx)("p",{children:"Optimize the auxiliary LP to find a feasible basic solution to the initial LP or determine that it is infeasible"})}},{key:"getFirstPivotRow",value:function(){for(var e=-1,t=v,n=1;n<=this.m;n++)N(this.tableau[n]).compare(t)<0&&(t=N(this.tableau[n]),e=n);return e}},{key:"calculatePivots",value:function(){var e=$(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=K(this.tableau),r=Object(l.a)(i,2),s=r[0],o=r[1];if(this.suggestedPivots=Object(c.a)(Object(c.a)({none:Z(this.tableau)},n),s),0===this.iter){var u=this.getFirstPivotRow(),b=this.tableau.map((function(e,t){return e.map((function(e,n){return t===u&&0===n}))}));this.suggestedPivots=Object(c.a)(Object(c.a)({},this.suggestedPivots),{},{generic_primal:{pivots:b,description:"Generic pivot for primal simplex"},bland_primal:{pivots:b,description:"Bland's rule for primal simplex"}})}this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=o}},{key:"getPossibleTransitions",value:function(){var e=this;return this.primalFeasible&&this.dualFeasible&&this.primalSolution[0].equals(v)?[{label:"Return to initial LP",args:"none",getNewState:function(){return e.goBackToBasic()}}]:[]}},{key:"goBackToBasic",value:function(){var e=this.tableau.map((function(e){return e.slice(1)}));return e[0]=this.savedObjective,new le(Object(c.a)(Object(c.a)({},this),{},{tableau:e,n:this.n-1,columns:this.columns-1,primalLabels:this.primalLabels.slice(1),baseVariables:this.baseVariables.map((function(e){return e-1})),iter:this.outerIter+1}))}},{key:"calculatePrograms",value:function(){void 0!==this.auxiliaryProgram&&(this.programs=[{name:"Auxiliary LP",program:this.auxiliaryProgram},{name:"Dual auxiliary LP",program:this.auxiliaryProgram.setForm("dual")}],this.defaultProgram="Auxiliary LP")}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromBasicState",value:function(e){return new n(Object(c.a)(Object(c.a)({},e),{},{auxiliaryProgram:X.fromArrays(e.primalProgram.A.map((function(e){return Array.of(g).concat(e)})),e.primalProgram.b,Array.of(g).concat(S(e.primalProgram.c.length).map((function(){return v}))),"primal",Array.of("x_{0}").concat(e.primalLabels.slice(0,e.n))),tableau:e.tableau.map((function(t,n){return 0===n?S(e.columns+1).map((function(e){return 0===e?O:v})):Array.of(g).concat(t)})),n:e.n+1,columns:e.columns+1,primalLabels:Array.of("x_{0}").concat(e.primalLabels),baseVariables:e.baseVariables.map((function(e){return e+1})),savedObjective:e.tableau[0],iter:0}))}}]),n}(se),be=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a=Object.assign({},e);return Object(j.a)(this,n),t.call(this,a)}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return this.primalFeasible?Object(ee.jsx)("p",{children:"A feasible primal solution has been found."}):this.dualUnbounded?Object(ee.jsx)("p",{children:"The initial LP is primal infeasible."}):Object(ee.jsx)("p",{children:"Use dual simplex method to find a feasible primal solution."})}},{key:"calculatePivots",value:function(){var e=this,t=this.tableau.map((function(t,n){return 0===n?S(e.columns).map((function(){return v})):t})),n=$(t,this.isBase),a=Object(l.a)(n,2),i=a[0],r=a[1],s=K(t),o=Object(l.a)(s,2),u=o[0],b=o[1];this.suggestedPivots=Object(c.a)(Object(c.a)({none:Z(this.tableau)},i),u),this.primalUnbounded=r,this.dualUnbounded=b}},{key:"getPossibleTransitions",value:function(){var e=this;return this.primalFeasible?[{label:"Go back to the initial LP",args:"none",getNewState:function(){return new se(e)}}]:[]}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromBasic",value:function(e){return new n(Object(c.a)(Object(c.a)({},e),{},{primalProgram:new X(Object(c.a)(Object(c.a)({},e.primalProgram),{},{c:e.primalProgram.c.map((function(){return v}))}))}))}}]),n}(se),he=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).calculateDisabledColumns(),a.hasBase=a.baseVariables.every((function(e,t){return-1!==e||a.disabledRows[t+1]})),a.infeasible=S(a.m,1).some((function(e){return S(a.n).every((function(t){return a.tableau[e][t].compare(v)<0||t===a.baseVariables[e-1]}))&&!N(a.tableau[e]).equals(v)&&!a.disabledRows[e]})),a.addInformation(),a}return Object(f.a)(n,[{key:"calculatePivots",value:function(){var e=Z(this.tableau);if(!this.hasBase||this.infeasible)this.suggestedPivots=Object(c.a)(Object(c.a)({none:e},W(this.tableau)),J(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var t=$(this.tableau,this.isBase,!0,this.n),n=Object(l.a)(t,2),a=n[0],i=n[1],r=K(this.tableau,!0,this.n),s=Object(l.a)(r,2),o=s[0],u=s[1];this.suggestedPivots=Object(c.a)(Object(c.a)({none:e},a),o),this.defaultSuggestion="bland_primal",this.primalUnbounded=i,this.dualUnbounded=u}}},{key:"getStatusMessage",value:function(){return this.infeasible?Object(ee.jsx)("p",{children:"The primal LP is infeasible."}):this.hasBase?re(this,!1,!1,!0):0===this.iter?Object(ee.jsx)("p",{children:"Find a base by making pivots or following an algorithm."}):Object(ee.jsx)("p",{children:"Find a base by making pivots."})}},{key:"calculateSolutions",value:function(){this.primalFeasible=w(this.tableau.slice(1).map((function(e){return N(e)}))),this.dualFeasible=w(this.tableau[0].slice(0,this.n)),this.primalSolution=S(this.n).map((function(){return v}));for(var e=0;e<this.m;e++)-1!==this.baseVariables[e]&&this.baseVariables[e]<this.n&&(this.primalSolution[this.baseVariables[e]]=N(this.tableau[e+1]));this.dualSolution=Array(this.m);for(var t=0;t<this.m;t++)this.dualSolution[t]=this.tableau[0][t+this.n]}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.hasBase){if(this.primalFeasible&&this.dualFeasible&&!y(this.dualSolution)&&this.primalProgram.isIntegral())return[ie(this,(function(t){return je.getFirstCut(e,t)}))]}else if(0===this.iter)return[{label:"Find a base",args:"none",getNewState:function(){return de.getFromEqualityState(e)}}];return[]}},{key:"calculateDisabledColumns",value:function(){var e=this;this.disabledColumns=S(this.columns).map((function(t){return t>=e.n&&t<e.columns-1})),this.disabledRows=S(this.m+1).map((function(t){return t>0&&S(e.n).every((function(n){return e.tableau[t][n].equals(v)}))&&N(e.tableau[t]).equals(v)}))}},{key:"canPivot",value:function(e,t){return!(t>=this.n||0===e||this.tableau[e][t].equals(v)||this.isBase[t])}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFromProgram",value:function(e){var t=[e.c.map((function(e){return e.neg()})).concat(S(e.m+1).map((function(){return v})))].concat(e.A.map((function(t,n){return t.concat(S(e.m).map((function(t){return t===n?e.b[n].compare(v)<0?g:O:v}))).concat(e.b[n])}))),a=S(e.n).map((function(e){return"x_{".concat(e+1,"}")})).concat(S(e.m).map((function(e){return"s_{".concat(e+1,"}")}))),i=S(e.m).map((function(e){return"y_{".concat(e+1,"}")})),r=S(e.m).map((function(){return-1}));return new n({tableau:t,n:e.n,m:e.m,columns:e.n+e.m+1,primalLabels:a,dualLabels:i,baseVariables:r,primalProgram:e.setForm("equality"),iter:0})}}]),n}(se),de=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.savedObjective,r=Object(h.a)(e,["savedObjective"]);if(Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},r),{},{addInfo:!1}))).savedObjective=i,a.baseVariables.some((function(e){return-1===e})))a.stage="base";else if(a.primalFeasible&&a.dualFeasible){var s=M(a.baseVariables,a.n+a.m);N(a.tableau[0]).compare(v)<0?a.stage="infeasible":S(a.m,a.n).some((function(e){return a.isBase[e]&&S(a.n).some((function(t){return!a.tableau[s[e]+1][t].equals(v)}))}))?a.stage="rebase":a.stage="done"}else a.stage="optimize";return a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return"base"===this.stage?Object(ee.jsx)("p",{children:"Make pivots with slack variables to establish a base."}):"done"===this.stage?Object(ee.jsx)("p",{children:"The program is optimized. We can return to the initial program."}):"optimize"===this.stage?Object(ee.jsx)("p",{children:"Optimize the LP using the simplex method."}):"rebase"===this.stage?Object(ee.jsx)("p",{children:"Remove the slack variables from base where possible."}):"infeasible"===this.stage?Object(ee.jsx)("p",{children:"The initial LP is infeasible."}):Object(ee.jsx)("p",{})}},{key:"getPossibleTransitions",value:function(){var e=this;return"done"===this.stage&&0===N(this.tableau[0]).compare(v)?[{label:"Return to initial LP",args:"none",getNewState:function(){return e.goBack()}}]:[]}},{key:"goBack",value:function(){var e=this,t=this.tableau.map((function(t,n){return 0===n?e.savedObjective:t}));return new me(Object(c.a)(Object(c.a)({},this),{},{tableau:t}))}},{key:"calculatePivots",value:function(){if("optimize"!==this.stage)this.suggestedPivots=Object(c.a)(Object(c.a)({none:Z(this.tableau)},W(this.tableau)),J(this.tableau)),this.defaultSuggestion="none",this.primalUnbounded=!1,this.dualUnbounded=!1;else{var e=$(this.tableau,this.isBase),t=Object(l.a)(e,2),n=t[0],a=t[1],i=K(this.tableau),r=Object(l.a)(i,2),s=r[0],o=r[1];this.suggestedPivots=Object(c.a)(Object(c.a)({none:Z(this.tableau)},n),s),this.defaultSuggestion="bland_primal",this.primalUnbounded=a,this.dualUnbounded=o}}},{key:"calculateDisabledColumns",value:function(){this.disabledColumns=S(this.columns).map((function(){return!1})),this.disabledRows=S(this.m+1).map((function(){return!1}))}},{key:"canPivot",value:function(e,t){return"base"===this.stage?-1===this.baseVariables[e-1]&&e===t-this.n+1&&!this.isBase[t]:"optimize"===this.stage?!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t]):"rebase"===this.stage&&(!(t===this.columns-1||0===e||this.tableau[e][t].equals(v)||this.isBase[t])&&this.baseVariables[e-1]>=this.n&&t<this.n)}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{tableau:r,baseVariables:s,iter:this.iter+1}))}}],[{key:"getFromEqualityState",value:function(e){return new n(Object(c.a)(Object(c.a)({},e),{},{tableau:e.tableau.map((function(t,n){return 0===n?t.map((function(t,n){return n<e.n||n===e.columns-1?v:O})):t})),savedObjective:e.tableau[0]}))}}]),n}(he),me=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,Object(c.a)(Object(c.a)({},e),{},{addInfo:!1}))).baseFixed=a.baseVariables.every((function(e){return a.tableau[0][e].equals(v)})),a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return this.baseFixed?Object(ee.jsx)("p",{children:"The top row is fixed."}):Object(ee.jsx)("p",{children:"Make pivots to represent the top row in the new base."})}},{key:"canPivot",value:function(e,t){return this.isBase[t]&&!this.tableau[0][t].equals(v)&&this.tableau[e][t].equals(O)}},{key:"getPossibleTransitions",value:function(){var e=this;return this.baseFixed?[{label:"Continue",args:"none",getNewState:function(){return e.backToBasic()}}]:[]}},{key:"backToBasic",value:function(){return new he(Object(c.a)({},this))}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}]),n}(he),je=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i=e.initialN,r=e.addedOverall,s=Object(h.a)(e,["initialN","addedOverall"]);return Object(j.a)(this,n),(a=t.call(this,s)).initialN=i,a.addedOverall=r,a.addInformation(),a}return Object(f.a)(n,[{key:"getStatusMessage",value:function(){return re(this,!1,!1,!0)}},{key:"getPossibleTransitions",value:function(){var e=this;if(this.primalUnbounded||this.dualUnbounded)return[];if(this.primalFeasible&&this.dualFeasible){var t=[];if(!y(this.dualSolution)){t.push(ie(this,(function(t){return e.addGomoryCuts(t)})));var n=S(this.columns).map((function(t){return t>=e.initialN&&t<e.n&&!e.isBase[t]}));n.some((function(e){return e}))&&t.push({label:"Remove superfluous cuts",args:"columns",prompt:"Select columns to remove",allowed:n,defaultSelection:S(this.columns).map((function(){return!1})),validateArgs:ne(n,"column","Only columns added with Gomory cuts that are not currently in the base can be removed."),getNewState:function(t){return e.removeExtraColumns(t)}})}return t}return[]}},{key:"addGomoryCuts",value:function(e){for(var t=this,a=S(this.m+1).map((function(){return[]})),i=0,r=function(n){if(!e[n])return"continue";a=a.map((function(e,a){return 0===a?e.concat(t.tableau[a][n].sub(_(t.tableau[a][n]))):e.concat(t.tableau[a][n].sub(T(t.tableau[a][n])))})),i++},s=0;s<=this.columns;s++)r(s);var l=this.tableau.map((function(e,n){return e.slice(0,t.n).concat(a[n]).concat(e.slice(t.n))})),o=this.baseVariables.map((function(e){return e>=t.n?e+i:e})),u=this.primalLabels.slice(0,this.n).concat(S(i).map((function(e){return"x_{".concat(t.initialN+t.addedOverall+e+1,"}")}))).concat(this.primalLabels.slice(this.n)),b=X.fromTableau(this.n+i,this.m,l,o,u).setForm("equality");return new n(Object(c.a)(Object(c.a)({},this),{},{n:this.n+i,columns:this.columns+i,tableau:l,baseVariables:o,primalLabels:u,primalProgram:b,addedOverall:this.addedOverall+i}))}},{key:"removeExtraColumns",value:function(e){var t=F(e),a=Object(l.a)(t,2),i=a[0],r=a[1],s=this.tableau.map((function(t){return t.filter((function(t,n){return!e[n]}))})),o=this.baseVariables.map((function(e){return e-r[e]})),u=this.primalLabels.filter((function(t,n){return!e[n]})),b=X.fromTableau(this.n-i,this.m,s,o,u);return new n(Object(c.a)(Object(c.a)({},this),{},{n:this.n-i,columns:this.columns-i,tableau:s,baseVariables:o,primalLabels:u,primalProgram:b}))}},{key:"pivot",value:function(e,t){var a=Y(this.tableau,this.baseVariables,e,t),i=Object(l.a)(a,2),r=i[0],s=i[1];return new n(Object(c.a)(Object(c.a)({},this),{},{baseVariables:s,tableau:r,iter:this.iter+1}))}}],[{key:"getFirstCut",value:function(e,t){return new n(Object(c.a)(Object(c.a)({},e),{},{initialN:e.n,addedOverall:0})).addGomoryCuts(t)}}]),n}(he);n(16);function fe(e){var t=e.value,n=e.position,a=void 0===n?"inner":n,i=e.hidden,r=void 0!==i&&i,s=e.showInvariant,l=void 0!==s&&s,c=e.isBase,o=void 0!==c&&c,u=e.isCorner,h=void 0!==u&&u,d=e.isHighlighted,m=void 0!==d&&d,j=e.isDisabled,f=void 0!==j&&j,p=e.isSelected,O=void 0!==p&&p,g=e.isSelectable,x=void 0!==g&&g,y=e.isSecondarySelected,w=void 0!==y&&y,S=e.showPointer,k=void 0===S||S,C=e.showSelection,P=void 0!==C&&C,B=e.showDisabled,N=void 0===B||B,F=e.useDecimal,L=void 0===F||F,M=e.useMixed,I=void 0!==M&&M,A=e.onClick,V=void 0===A?function(e){return e}:A,q="inner"===a,T=t.compare(v)>=0,_=["tableau-cell","cell-".concat(a),l&&T&&!f?"invariant-holds":"",!l||T||f?"":"invariant-broken",k&&(!f&&q&&!P||P&&x)?"clickable-cell":"",r?"hidden-cell":"",h?"corner-cell":"",!o||!q&&l?"":"base-cell",m&&!P?"highlighted-cell":"",P&&O?"selected-cell":"",P&&!x?"not-selectable-cell":"",P&&w?"secondary-cell":"",N&&!P&&f?"disabled-cell":""].join(" ");return Object(ee.jsx)("td",{className:_,onClick:V,children:Object(ee.jsx)(b.InlineMath,{children:E(t,I,L)})})}function pe(e){var t=e.state,n=e.position,a=e.selection,i=e.showSelection,r=e.onCellClick,s=e.miscSettings;return Object(ee.jsx)(fe,Object(c.a)({value:N(t.tableau[0]),position:n,isSelected:i&&z(0,t.columns-1,a),isSelectable:i&&G(0,t.columns-1,a),isSecondarySelected:i&&R(0,t.columns,a,t),onClick:function(){return r(0,t.columns-1)}},Object(c.a)(Object(c.a)({},s),{},{showSelection:i})))}function ve(e){var t=e.state,n=e.i,a=e.position,i=e.selection,r=e.showSelection,s=e.onCellClick,l=e.highlightInvariants,o=e.miscSettings;return Object(ee.jsx)(fe,Object(c.a)({value:N(t.tableau[n]),position:a,showInvariant:l,isDisabled:t.disabledRows[n],isSelected:r&&z(n,t.columns-1,i),isSelectable:r&&G(n,t.columns-1,i),isSecondarySelected:r&&R(n,t.columns,i,t),onClick:function(){return s(n,t.columns-1)}},Object(c.a)(Object(c.a)({},o),{},{showSelection:r})))}function Oe(e){var t=e.state,n=e.position,a=e.selection,i=e.showSelection,r=e.showBase,s=e.onCellClick,l=e.showBColumnsLeft,o=e.showSlackLeft,u=e.highlightBase,b=e.highlightInvariants,h=e.miscSettings;return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{}),l?pe({state:t,position:"".concat(n,"-left"),selection:a,onCellClick:s,showSelection:i,miscSettings:h}):null,o?S(t.m).map((function(e){return Object(ee.jsx)(fe,Object(c.a)({value:t.tableau[0][t.n+e],position:n,showInvariant:b,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!r,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&u,isSelected:i&&z(0,t.n+e,a),isSelectable:i&&G(0,t.n+e,a),isSecondarySelected:i&&R(0,t.n,a,t),onClick:function(){return s(0,t.n+e)}},Object(c.a)(Object(c.a)({},h),{},{showSelection:i})),t.n+e)})):null,S(t.n).map((function(e){return Object(ee.jsx)(fe,Object(c.a)({value:t.tableau[0][e],position:n,showInvariant:b,hidden:t.isBase[e]&&!t.disabledColumns[e]&&!r,isDisabled:t.disabledColumns[e],isBase:t.isBase[e]&&u,isSelected:i&&z(0,e,a),isSelectable:i&&G(0,e,a),isSecondarySelected:i&&R(0,0,a,t),onClick:function(){return s(0,e)}},Object(c.a)(Object(c.a)({},h),{},{showSelection:i})),e)})),o?null:S(t.m).map((function(e){return Object(ee.jsx)(fe,Object(c.a)({value:t.tableau[0][t.n+e],position:n,showInvariant:b,hidden:t.isBase[t.n+e]&&!t.disabledColumns[t.n+e]&&!r,isDisabled:t.disabledColumns[t.n+e],isBase:t.isBase[t.n+e]&&u,isSelected:i&&z(0,t.n+e,a),isSelectable:i&&G(0,t.n+e,a),isSecondarySelected:i&&R(0,t.n,a,t),onClick:function(){return s(0,t.n+e)}},Object(c.a)(Object(c.a)({},h),{},{showSelection:i})),e)})),l?null:pe({state:t,position:"".concat(n,"-right"),selection:a,onCellClick:s,showSelection:i,miscSettings:h})]})}function ge(e){var t=e.state,n=e.i,a=e.j,i=e.highlightedPivots,r=e.showBase,s=e.highlightBase,l=e.selection,o=e.showSelection,u=e.onCellClick,b=e.miscSettings;return Object(ee.jsx)(fe,Object(c.a)({value:t.tableau[n][a],hidden:t.isBase[a]&&!t.disabledColumns[a]&&!r,isBase:t.isBase[a]&&!t.disabledColumns[a]&&s,isHighlighted:t.suggestedPivots[i].pivots[n][a],isSelected:o&&z(n,a,l),isSelectable:o&&G(n,a,l),isSecondarySelected:o&&R(n,0,l,t),isDisabled:!t.canPivot(n,a),onClick:function(){return u(n,a)}},Object(c.a)(Object(c.a)({},b),{},{showSelection:o})),a)}function xe(e){var t=e.state,n=e.onCellClick,a=void 0===n?function(e){return e}:n,i=e.highlightedPivots,r=void 0===i?"none":i,s=e.highlightBase,l=void 0===s||s,c=e.highlightInvariants,o=void 0===c||c,u=e.useDecimal,h=void 0===u||u,d=e.useMixed,m=void 0!==d&&d,j=e.showBase,f=void 0===j||j,p=e.selection,v=void 0===p?null:p,O=e.showPointer,g=void 0===O||O,x=e.showDisabled,y=void 0!==x&&x,w=e.showObjectiveBottom,k=void 0!==w&&w,C=e.showBColumnsLeft,P=void 0!==C&&C,B=e.showSlackLeft,N=void 0!==B&&B,F=null!==v,L={useDecimal:h,useMixed:m,showPointer:g,showDisabled:y};return Object(ee.jsx)("div",{className:"tableau-box",children:Object(ee.jsx)("table",{className:"tableau-table",children:Object(ee.jsxs)("tbody",{children:[k?null:Oe({state:t,position:"top",selection:v,showSelection:F,showBase:f,onCellClick:a,showBColumnsLeft:P,showSlackLeft:N,highlightBase:l,highlightInvariants:o,miscSettings:L}),S(t.m,1).map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:0===e?"":t.baseVariables[e-1]<0||t.disabledColumns[t.baseVariables[e-1]]||t.disabledRows[e]?"-":t.primalLabels[t.baseVariables[e-1]]})}),P?ve({state:t,i:e,position:"left",selection:v,showSelection:F,showBase:f,onCellClick:a,highlightInvariants:o,miscSettings:L}):null,N?S(t.m,t.n).map((function(n){return ge({state:t,i:e,j:n,highlightedPivots:r,showBase:f,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})):null,S(t.n).map((function(n){return ge({state:t,i:e,j:n,highlightedPivots:r,showBase:f,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})),N?null:S(t.m,t.n).map((function(n){return ge({state:t,i:e,j:n,highlightedPivots:r,showBase:f,highlightBase:l,selection:v,showSelection:F,onCellClick:a,miscSettings:L})})),P?null:ve({state:t,i:e,position:"right",selection:v,showSelection:F,showBase:f,onCellClick:a,highlightInvariants:o,miscSettings:L})]},e)})),k?Oe({state:t,position:"bottom",selection:v,showSelection:F,showBase:f,onCellClick:a,showBColumnsLeft:P,showSlackLeft:N,highlightBase:l,highlightInvariants:o,miscSettings:L}):null,Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{}),P?Object(ee.jsx)("td",{}):null,N?S(t.m).map((function(e){return Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})):null,S(t.n).map((function(e){return Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t.primalLabels[e]})},e)})),N?null:S(t.m).map((function(e){return Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t.primalLabels[t.n+e]})},t.n+e)})),P?null:Object(ee.jsx)("td",{})]})]})})})}var ye=[{name:"Simple 1",program:X.fromArrays([[1,1,3],[2,2,5],[4,1,2]],[30,24,36],[3,1,2],"primal")},{name:"Simple 2",program:X.fromArrays([[1,1],[1,0],[0,1]],[20,12,16],[18,12.5],"primal")},{name:"Basic solution not feasible",program:X.fromArrays([[2,-1],[1,-5]],[2,-4],[2,-1],"primal")},{name:"Basic solution not feasible 2",program:X.fromArrays([[-2,"-7.5",3],[-20,-5,-3]],[-1e4,-3e4],[-1,-1,-1],"primal")},{name:"Infeasible",program:X.fromArrays([[-1,-1,0],[0,-1,-1],[1,2,1]],[-2,-3,4],[1,1,1],"primal")},{name:"Unbounded",program:X.fromArrays([[1,-1,1],[-2,1,0],[0,1,-2]],[5,3,5],[0,2,1],"primal")},{name:"Dual unbounded",program:X.fromArrays([[1,0],[3,2]],[1,-1],[-2,0],"dual")},{name:"Gomory cuts",program:X.fromArrays([[-1,1],[8,2]],[2,17],["5.5","2.1"],"primal")},{name:"Equality Form",program:X.fromArrays([[1,1,1],[2,2,5]],[5,16],[3,1,2],"equality")},{name:"Equality Form 2",program:X.fromArrays([[-1,-1,-1],[2,2,3]],[-8,16],[3,1,2],"equality")},{name:"Equality infeasible",program:X.fromArrays([[1,1,1],[2,2,5]],[12,16],[3,1,2],"equality")},{name:"Equality redundant row",program:X.fromArrays([[1,1],[2,3],[3,4]],[4,9,13],[1,1],"equality")},{name:"Equality redundant row 2",program:X.fromArrays([[1,1,1,3],[2,3,1,2],[3,4,2,5]],[4,9,13],[1,1,1,1],"equality")}];n(17),n(31);function we(e){return/^-?((\d+(\/[1-9]\d*)?)|(\d*\.\d+)|(\d+\.))$/.test(e)}function Se(e){var t=e.value,n=e.onChange,a=e.ending;return Object(ee.jsxs)("div",{className:"input-field",children:[Object(ee.jsx)("input",{className:we(t)?"correct-input":"wrong-input",value:t,onChange:function(e){return n(e.target.value)}}),Object(ee.jsx)("span",{className:"label",children:Object(ee.jsx)(b.InlineMath,{children:a})})]})}function ke(e){var t=e.examplesList,n=e.selected,a=e.onChange;function i(e){a(e,-1!==parseInt(e)?t[e].program:null)}return Object(ee.jsxs)("div",{className:"input-row",children:[Object(ee.jsx)("label",{htmlFor:"example",children:"Example:"}),Object(ee.jsxs)("select",{id:"example",value:n,onChange:function(e){return i(e.target.value)},children:[Object(ee.jsx)("option",{value:-1,children:"Custom"}),t.map((function(e,t){return Object(ee.jsx)("option",{value:t,children:e.name},t)}))]})]})}function Ce(e){var t=e.onFinish,n=Object(a.useState)({program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}),r=Object(l.a)(n,2),s=r[0],o=r[1],h=function(e,t){var n=parseInt(e),a=parseInt(t);n=isNaN(n)?s.program.n:Math.max(Math.min(n,7),1),a=isNaN(a)?s.program.m:Math.max(Math.min(a,7),1),o(Object(c.a)(Object(c.a)({},s),{},{program:s.program.updateSize(n,a),fieldsA:I(s.fieldsA.map((function(e){return I(e,n,(function(){return"0"}))})),a,(function(){return S(n).map((function(e){return"0"}))})),fieldsB:I(s.fieldsB,a,(function(){return"0"})),fieldsC:I(s.fieldsC,n,(function(){return"0"})),fieldN:e,fieldM:t}))},d=function(){var e=parseInt(s.fieldN),t=parseInt(s.fieldM);e=isNaN(e)?s.program.n:Math.max(Math.min(e,7),1),t=isNaN(t)?s.program.m:Math.max(Math.min(t,7),1),h(e.toString(),t.toString())},m=function(e,t){o(Object(c.a)(Object(c.a)({},s),{},{program:s.program.updateB(e,we(t)?new u.a(t):v),fieldsB:V(s.fieldsB,e,t),selectedExample:-1}))},j=function(e,t){o(Object(c.a)(Object(c.a)({},s),{},{program:s.program.updateC(e,we(t)?new u.a(t):v),fieldsC:V(s.fieldsC,e,t),selectedExample:-1}))};console.log(s);var f=s.program.isDual(),p=s.program.isEquality();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(ke,{examplesList:ye,selected:s.selectedExample,onChange:function(e,t){o(null===t?Object(c.a)(Object(c.a)({},s),{},{selectedExample:e}):Object(c.a)(Object(c.a)({},s),{},{program:t,fieldsA:t.A.map((function(e){return e.map((function(e){return e.toFraction()}))})),fieldsB:t.b.map((function(e){return e.toFraction()})),fieldsC:t.c.map((function(e){return e.toFraction()})),fieldN:t.n.toString(),fieldM:t.m.toString(),selectedExample:e}))}}),Object(ee.jsxs)("div",{className:"input-row",children:[Object(ee.jsx)("label",{htmlFor:"n",children:"Variables:"}),Object(ee.jsx)("input",{type:"number",id:"n",min:"1",max:7,value:f?s.fieldM:s.fieldN,onChange:f?function(e){return h(s.fieldN,e.target.value)}:function(e){return h(e.target.value,s.fieldM)},onBlur:d,required:!0}),Object(ee.jsx)("label",{htmlFor:"m",children:p?"Equalities":"Inequalities:"}),Object(ee.jsx)("input",{type:"number",id:"m",min:"1",max:7,value:f?s.fieldN:s.fieldM,onChange:f?function(e){return h(e.target.value,s.fieldM)}:function(e){return h(s.fieldN,e.target.value)},onBlur:d,required:!0}),Object(ee.jsx)("label",{htmlFor:"form",children:"Form:"}),Object(ee.jsxs)("select",{id:"form",value:s.program.form,onChange:function(e){return t=e.target.value,void o(Object(c.a)(Object(c.a)({},s),{},{program:s.program.setForm(t),selectedExample:-1}));var t},children:[Object(ee.jsx)("option",{value:"primal",children:"Standard form"}),Object(ee.jsx)("option",{value:"dual",children:"Dual to standard form"}),Object(ee.jsx)("option",{value:"equality",children:"Equality form"}),Object(ee.jsx)("option",{value:"equality_dual",children:"Dual to equality form"})]})]}),Object(ee.jsxs)("div",{className:"input-row",children:[Object(ee.jsx)("button",{onClick:function(){return t(s.program)},children:"Finish"}),Object(ee.jsx)("button",{onClick:function(){o(Object(c.a)(Object(c.a)({},s),{},{program:X.zeroProgram(2,1),fieldsA:[["0","0"]],fieldsB:["0"],fieldsC:["0","0"],fieldN:"2",fieldM:"1",selectedExample:-1}))},children:"Reset"})]}),Object(ee.jsx)("div",{style:{clear:"both"}}),Object(ee.jsx)("table",{id:"input-table",children:Object(ee.jsxs)("tbody",{children:[Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{className:"min-max",children:Object(ee.jsx)(b.InlineMath,{children:f?"min":"max"})}),S(f?s.program.m:s.program.n).map((function(e){return Object(ee.jsxs)(i.a.Fragment,{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(Se,{value:f?s.fieldsB[e]:s.fieldsC[e],onChange:f?function(t){return m(e,t)}:function(t){return j(e,t)},ending:s.program.labels[e]})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:e!==(f?s.program.m:s.program.n)-1?"+":""})})]},e)}))]}),S(f?s.program.n:s.program.m).map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{}),S(f?s.program.m:s.program.n).map((function(t){return Object(ee.jsxs)(i.a.Fragment,{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(Se,{value:f?s.fieldsA[t][e]:s.fieldsA[e][t],onChange:function(n){return function(e,t,n){o(Object(c.a)(Object(c.a)({},s),{},{program:s.program.updateA(e,t,we(n)?new u.a(n):v),fieldsA:A(s.fieldsA,e,t,n),selectedExample:-1}))}(f?t:e,f?e:t,n)},ending:s.program.labels[t]})},t),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t!==(f?s.program.m:s.program.n)-1?"+":f?"\\geq":p?"=":"\\leq"})})]},t)})),Object(ee.jsx)("td",{children:Object(ee.jsx)(Se,{value:f?s.fieldsC[e]:s.fieldsB[e],onChange:f?function(t){return j(e,t)}:function(t){return m(e,t)},ending:""},e)})]},e)})),p&&f?Object(ee.jsx)("tr",{children:Object(ee.jsx)("td",{})}):Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{colSpan:2*(f?s.program.m:s.program.n),className:"variable-list",children:Object(ee.jsx)(b.InlineMath,{children:s.program.labels.join(",")})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"\\geq"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"0"})})]})]})}),Object(ee.jsx)(xe,{state:te(s.program),showPointer:!1})]})}var Pe=n(13),Be=n(19),Ne=n.n(Be);n(33);function Fe(e){e.name,e.label;var t=e.children;return Object(ee.jsx)("div",{className:"pane",children:t})}function Le(e){var t=e.defaultChoice,n=e.chosen,a=e.setChosen,i=e.children,r=n,s=i.flat().filter((function(e){return null!==e}));return s.some((function(e){return e.props.name===n}))||(r=t,a(t)),Object(ee.jsxs)("div",{className:"multi-pane",children:[Object(ee.jsxs)("div",{className:"pane-list",children:[s.map((function(e,t){return Object(ee.jsx)("div",{className:"pane-button ".concat(r===e.props.name?"pane-button-selected":""),onClick:function(){return a(e.props.name)},children:e.props.label},t)})),Object(ee.jsx)("div",{style:{clear:"both"}})]}),s.map((function(e,t){return Object(ee.jsx)("div",{className:"".concat(r!==e.props.name?"pane-hidden":""),children:e},t)}))]})}function Me(e){var t=e.children;return Object(ee.jsxs)("div",{className:"split-pane",children:[Object(ee.jsx)("div",{className:"split",children:t[0]}),Object(ee.jsx)("div",{className:"split-border"}),Object(ee.jsx)("div",{className:"split",children:t[1]})]})}n(34);function Ie(e){var t=e.value,n=e.label,a=e.first,i=void 0!==a&&a,r=e.firstNonZero,s=void 0!==r&&r,l=e.lastInEmptyRow,c=void 0!==l&&l,o=e.useDecimal,u=void 0===o||o,h=e.useMixed,d=void 0===h||h;return i?Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:c?"0":t.equals(v)?"":t.equals(O)?n:t.equals(g)?"-".concat(n):"".concat(E(t.abs(),d,u)," ").concat(n)})}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("td",{className:"operator",children:Object(ee.jsx)(b.InlineMath,{children:t.equals(v)?"":t.compare(v)<0?"-":s?"":"+"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:c?"0":t.equals(v)?"":t.abs().equals(O)?n:"".concat(E(t.abs(),d,u)," ").concat(n)})})]})}function Ae(e){var t=e.program,n=e.useDecimal,a=e.useMixed;function i(e){return e.map((function(e){return!e.equals(v)})).indexOf(!0)}var r=t.isDual(),s=!r,l=t.isEquality(),c=s?S(t.m).map((function(e){return i(t.A[e])})):S(t.n).map((function(e){return i(S(t.m).map((function(n){return t.A[n][e]})))})),o=i(s?t.c:t.b);return Object(ee.jsx)("table",{className:"program-display",children:Object(ee.jsxs)("tbody",{children:[Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:s?"max":"min"})}),S(s?t.n:t.m).map((function(e){return Object(ee.jsx)(Ie,{value:s?t.c[e]:t.b[e],first:0===e,label:t.labels[e],firstNonZero:e===o,lastInEmptyRow:e===(s?t.n:t.m)-1&&-1===o,useDecimal:n,useMixed:a},e)}))]}),S(s?t.m:t.n).map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{}),S(s?t.n:t.m).map((function(i){return Object(ee.jsx)(Ie,{value:s?t.A[e][i]:t.A[i][e],first:0===i,label:t.labels[i],firstNonZero:i===c[e],lastInEmptyRow:i===(s?t.n:t.m)-1&&-1===c[e],useDecimal:n,useMixed:a},i)})),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:r?"\\geq":l?"=":"\\geq"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:E(s?t.b[e]:t.c[e],a,n)})})]},e)})),"equality_dual"===t.form?null:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{colSpan:s?2*t.n:2*t.m,children:Object(ee.jsx)(b.InlineMath,{children:t.labels.join(", ")})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"\\geq"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"0"})})]})]})})}function Ve(e){var t=e.tableau,n=e.useDecimal,a=e.useMixed,i=S(t.columns-1).filter((function(e){return!t.isBase[e]}));return Object(ee.jsx)("table",{className:"program-display",children:Object(ee.jsxs)("tbody",{children:[Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"z"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"="})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:E(t.tableau[0][t.columns-1],a,n)})}),i.map((function(e){return Object(ee.jsx)(Ie,{value:t.tableau[0][e].neg(),label:t.primalLabels[e],useDecimal:n,useMixed:a},e)}))]}),S(t.m).map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t.baseVariables[e]>=0?t.primalLabels[t.baseVariables[e]]:"0"})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:"="})}),Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:t.tableau[e+1][t.columns-1].toLatex()})}),i.map((function(i){return Object(ee.jsx)(Ie,{value:t.tableau[e+1][i].neg(),label:t.primalLabels[i],useDecimal:n,useMixed:a},i)}))]},e)}))]})})}function qe(e){var t=e.title,n=e.labels,a=e.solution,i=e.toShow,r=void 0===i?a.length:i,s=e.feasible,l=e.useDecimal,c=void 0===l||l,o=e.useMixed,u=void 0!==o&&o;return Object(ee.jsxs)("div",{className:"solution",children:[Object(ee.jsxs)("div",{className:"solution-header",children:[t,s?Object(ee.jsx)("span",{colSpan:r,className:"highlight-pos",children:"Feasible"}):Object(ee.jsx)("span",{colSpan:r,className:"highlight-neg",children:"Infeasible"})]}),Object(ee.jsx)("div",{className:"inner",children:Object(ee.jsx)("table",{className:"solution-table",children:Object(ee.jsxs)("tbody",{children:[Object(ee.jsx)("tr",{children:S(r).map((function(e){return Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:n[e]})},e)}))}),Object(ee.jsx)("tr",{children:S(r).map((function(e){return Object(ee.jsx)("td",{children:Object(ee.jsx)(b.InlineMath,{children:E(a[e],u,c)})},e)}))})]})})})]})}function Te(e){var t=e.name,n=(e.description,e.currentValue),a=e.options,i=e.onChange;return Object(ee.jsx)("div",{className:"setting",children:Object(ee.jsx)("select",{className:"setting-select",name:t,value:n,onChange:function(e){return i(e.target.value)},children:a.map((function(e,t){return Object(ee.jsx)("option",{value:e.value,children:e.label},t)}))})})}function _e(e){var t=e.name,n=e.description,a=e.currentValue,i=e.onChange,r=e.color;return Object(ee.jsxs)("div",{className:"setting",children:[Object(ee.jsx)("div",{className:"switch",children:Object(ee.jsx)(Ne.a,{id:t,height:25,width:50,onChange:function(e){return i(e)},onColor:r,checked:a})}),Object(ee.jsx)("label",{htmlFor:t,className:"description",children:n})]})}function De(e){var t=e.settings,n=e.setSetting,a=e.availablePivots;return Object(ee.jsxs)("div",{id:"settings",children:[Object(ee.jsxs)("div",{className:"setting-pivot",children:[Object(ee.jsx)("div",{className:"header",children:"Suggested Pivots"}),Object(ee.jsx)(Te,{name:"highlighted_pivot",description:"Suggested",currentValue:t.highlightedPivots,options:Object.entries(a).map((function(e){return{value:e[0],label:e[1].description}})),onChange:function(e){return n("highlightedPivots",e)}})]}),Object(ee.jsxs)("div",{className:"setting-base",children:[Object(ee.jsx)("div",{className:"header",children:"Base columns"}),Object(ee.jsx)(_e,{name:"highlight_base",color:"#88c5ff",description:"Highlight base columns",currentValue:t.highlightBase,onChange:function(e){return n("highlightBase",e)}}),Object(ee.jsx)(_e,{name:"show_base",color:"#88c5ff",description:"Show base columns",currentValue:t.showBase,onChange:function(e){return n("showBase",e)}})]}),Object(ee.jsxs)("div",{className:"setting-other",children:[Object(ee.jsx)("div",{className:"header",children:"Other settings"}),Object(ee.jsx)(_e,{name:"highlight_invariants",color:"#6cd875",description:"Highlight invariants",currentValue:t.highlightInvariants,onChange:function(e){return n("highlightInvariants",e)}}),Object(ee.jsx)(_e,{name:"use_decimal",color:"#6cd875",description:"Use decimal fractions",currentValue:t.useDecimal,onChange:function(e){return n("useDecimal",e)}}),Object(ee.jsx)(_e,{name:"use_mixed",color:"#6cd875",description:"Use mixed fractions",currentValue:t.useMixed,onChange:function(e){return n("useMixed",e)}}),Object(ee.jsx)(_e,{name:"show_disabled",color:"#6cd875",description:"Darken cells where pivot cannot be done",currentValue:t.showDisabled,onChange:function(e){return n("showDisabled",e)}}),Object(ee.jsx)(_e,{name:"objective_at_bottom",color:"#6cd875",description:"Display objective function row at the bottom",currentValue:t.showObjectiveBottom,onChange:function(e){return n("showObjectiveBottom",e)}}),Object(ee.jsx)(_e,{name:"b_column_on_left",color:"#6cd875",description:"Display the b column on the left",currentValue:t.showBColumnsLeft,onChange:function(e){return n("showBColumnsLeft",e)}}),Object(ee.jsx)(_e,{name:"slack_on_left",color:"#6cd875",description:"Display the slack variables on the left",currentValue:t.showSlackLeft,onChange:function(e){return n("showSlackLeft",e)}})]})]})}function Ue(e){var t=e.initialProgram,n=e.onStartOver,i=Object(a.useState)({stateHistory:[te(t)],index:0,settings:{highlightedPivots:"bland_primal",highlightBase:!0,showBase:!0,highlightInvariants:!0,useDecimal:!0,useMixed:!1,showDisabled:!0,showObjectiveBottom:!1,showBColumnsLeft:!1,showSlackLeft:!1},selectedProgram:null,currentTransition:null}),r=Object(l.a)(i,2),s=r[0],o=r[1],u=s.stateHistory[s.index],b=s.settings.highlightedPivots;function h(e){o(Object(c.a)(Object(c.a)({},s),{},{stateHistory:s.stateHistory.slice(0,s.index+1).concat(e),index:s.index+1,currentTransition:null}))}function d(e,t){o(Object(c.a)(Object(c.a)({},s),{},{settings:Object(c.a)(Object(c.a)({},s.settings),{},Object(Pe.a)({},e,t))}))}return b in u.suggestedPivots||(b=u.defaultSuggestion,d("highlightedPivots",u.defaultSuggestion)),Object(ee.jsxs)("div",{id:"inner-wrapper",children:[Object(ee.jsxs)("div",{id:"tab-and-controls",children:[Object(ee.jsxs)("div",{id:"controls",children:[Object(ee.jsx)("button",{onClick:function(){o(Object(c.a)(Object(c.a)({},s),{},{index:s.index-1,currentTransition:null}))},disabled:0===s.index,children:"Previous"}),Object(ee.jsx)("span",{id:"counter",children:"".concat(s.index+1," / ").concat(s.stateHistory.length)}),Object(ee.jsx)("button",{onClick:function(){o(Object(c.a)(Object(c.a)({},s),{},{index:s.index+1,currentTransition:null}))},disabled:s.index===s.stateHistory.length-1,children:"Next"})]}),Object(ee.jsx)(xe,Object(c.a)(Object(c.a)({state:u,onCellClick:function(e,t){null===s.currentTransition?u.canPivot(e,t)&&h(u.pivot(e,t)):G(e,t,s.currentTransition.selection)&&o(Object(c.a)(Object(c.a)({},s),{},{currentTransition:Object(c.a)(Object(c.a)({},s.currentTransition),{},{selection:H(e,t,s.currentTransition.selection)})}))},showDisabled:!0,selection:null===s.currentTransition?null:s.currentTransition.selection},s.settings),{},{highlightedPivots:b})),Object(ee.jsx)("div",{id:"message",children:null===s.currentTransition?Object(ee.jsxs)(ee.Fragment,{children:[u.getStatusMessage(),u.transitions.map((function(e,t){return Object(ee.jsx)("button",{className:"inline-button",onClick:function(){return function(e){"none"===e.args?h(e.getNewState()):o(Object(c.a)(Object(c.a)({},s),{},{currentTransition:{getNewState:e.getNewState,validateArgs:e.validateArgs,prompt:e.prompt,selection:{type:e.args,selected:k(e.defaultSelection),allowed:e.allowed},errorMessage:null}}))}(e)},children:e.label},t)}))]}):Object(ee.jsxs)(ee.Fragment,{children:[s.currentTransition.prompt,Object(ee.jsx)("button",{onClick:function(){var e=s.currentTransition.selection.selected,t=s.currentTransition.validateArgs(e),n=Object(l.a)(t,2),a=n[0],i=n[1];a?h(s.currentTransition.getNewState(e)):o(Object(c.a)(Object(c.a)({},s),{},{currentTransition:Object(c.a)(Object(c.a)({},s.currentTransition),{},{errorMessage:i})}))},className:"inline-button",children:"Done"}),Object(ee.jsx)("button",{onClick:function(){o(Object(c.a)(Object(c.a)({},s),{},{currentTransition:Object(c.a)(Object(c.a)({},s.currentTransition),{},{selection:Object(c.a)(Object(c.a)({},s.currentTransition.selection),{},{selected:k(s.currentTransition.selection.allowed)})})}))},className:"inline-button",children:"Select All"}),Object(ee.jsx)("button",{onClick:function(){o(Object(c.a)(Object(c.a)({},s),{},{currentTransition:null}))},className:"inline-button",children:"Cancel"}),null===s.currentTransition.errorMessage?null:Object(ee.jsx)("p",{className:"highlight-neg",children:s.currentTransition.errorMessage})]})})]}),Object(ee.jsxs)("div",{id:"sidebar",children:[Object(ee.jsx)(De,{settings:Object(c.a)(Object(c.a)({},s.settings),{},{highlightedPivots:b}),availablePivots:u.suggestedPivots,setSetting:d}),Object(ee.jsx)("button",{onClick:n,id:"start-over",children:"Start over with a new program"})]}),Object(ee.jsxs)(Me,{children:[Object(ee.jsx)(qe,Object(c.a)({title:"Primal solution",labels:u.primalLabels,solution:u.primalSolution,feasible:u.primalFeasible},s.settings)),Object(ee.jsx)(qe,Object(c.a)({title:"Dual solution",labels:u.dualLabels,solution:u.dualSolution,feasible:u.dualFeasible},s.settings))]}),Object(ee.jsxs)(Le,{defaultChoice:u.defaultProgram,chosen:s.selectedProgram,setChosen:function(e){return o(Object(c.a)(Object(c.a)({},s),{},{selectedProgram:e}))},children:[u.programs.map((function(e,t){var n=e.name,a=e.program;return Object(ee.jsx)(Fe,{name:n,label:n,children:Object(ee.jsx)(Ae,Object(c.a)({program:a},s.settings))},t)})),u.isEquality?null:Object(ee.jsx)(Fe,{name:"slack",label:"Slack Form",children:Object(ee.jsx)(Ve,Object(c.a)({tableau:u},s.settings))})]})]})}var Ee=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1];return null===n?Object(ee.jsx)("div",{id:"wrapper",children:Object(ee.jsx)(Ce,{onFinish:function(e){return i(e)}})}):Object(ee.jsx)("div",{id:"wrapper",children:Object(ee.jsx)(Ue,{initialProgram:n,onStartOver:function(){return i(null)}})})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(ee.jsx)(i.a.StrictMode,{children:Object(ee.jsx)(Ee,{})}),document.getElementById("root")),Ge()}},[[35,1,2]]]);
//# sourceMappingURL=main.8379ec98.chunk.js.map